var Jc=Object.defineProperty;var Zc=t=>{throw TypeError(t)};var Xc=(t,e,n)=>e in t?Jc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var te=(t,e,n)=>Xc(t,typeof e!="symbol"?e+"":e,n);var yn=(t,e,n)=>e.has(t)?Zc("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n);function Qc(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function zs(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const ne={},an=[],mt=()=>{},el=()=>!1,wr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Hs=t=>t.startsWith("onUpdate:"),je=Object.assign,Gs=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},tl=Object.prototype.hasOwnProperty,J=(t,e)=>tl.call(t,e),N=Array.isArray,cn=t=>Mr(t)==="[object Map]",Do=t=>Mr(t)==="[object Set]",F=t=>typeof t=="function",he=t=>typeof t=="string",Mt=t=>typeof t=="symbol",le=t=>t!==null&&typeof t=="object",wo=t=>(le(t)||F(t))&&F(t.then)&&F(t.catch),Mo=Object.prototype.toString,Mr=t=>Mo.call(t),nl=t=>Mr(t).slice(8,-1),Lo=t=>Mr(t)==="[object Object]",Vs=t=>he(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,On=zs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Lr=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},rl=/-(\w)/g,wt=Lr(t=>t.replace(rl,(e,n)=>n?n.toUpperCase():"")),sl=/\B([A-Z])/g,Lt=Lr(t=>t.replace(sl,"-$1").toLowerCase()),$o=Lr(t=>t.charAt(0).toUpperCase()+t.slice(1)),Kr=Lr(t=>t?`on${$o(t)}`:""),Dt=(t,e)=>!Object.is(t,e),ur=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},No=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},ds=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Oi;const $r=()=>Oi||(Oi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ws(t){if(N(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=he(r)?cl(r):Ws(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(he(t)||le(t))return t}const il=/;(?![^(]*\))/g,ol=/:([^]+)/,al=/\/\*[^]*?\*\//g;function cl(t){const e={};return t.replace(al,"").split(il).forEach(n=>{if(n){const r=n.split(ol);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ys(t){let e="";if(he(t))e=t;else if(N(t))for(let n=0;n<t.length;n++){const r=Ys(t[n]);r&&(e+=r+" ")}else if(le(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const ll="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ul=zs(ll);function jo(t){return!!t||t===""}const Fo=t=>!!(t&&t.__v_isRef===!0),ln=t=>he(t)?t:t==null?"":N(t)||le(t)&&(t.toString===Mo||!F(t.toString))?Fo(t)?ln(t.value):JSON.stringify(t,Uo,2):String(t),Uo=(t,e)=>Fo(e)?Uo(t,e.value):cn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[qr(r,i)+" =>"]=s,n),{})}:Do(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>qr(n))}:Mt(e)?qr(e):le(e)&&!N(e)&&!Lo(e)?String(e):e,qr=(t,e="")=>{var n;return Mt(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let qe;class fl{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=qe,!e&&qe&&(this.index=(qe.scopes||(qe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=qe;try{return qe=this,e()}finally{qe=n}}}on(){qe=this}off(){qe=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function pl(){return qe}let se;const Jr=new WeakSet;class Bo{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,qe&&qe.active&&qe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Jr.has(this)&&(Jr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ho(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Di(this),Go(this);const e=se,n=ot;se=this,ot=!0;try{return this.fn()}finally{Vo(this),se=e,ot=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Js(e);this.deps=this.depsTail=void 0,Di(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Jr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){gs(this)&&this.run()}get dirty(){return gs(this)}}let zo=0,Dn,wn;function Ho(t,e=!1){if(t.flags|=8,e){t.next=wn,wn=t;return}t.next=Dn,Dn=t}function Ks(){zo++}function qs(){if(--zo>0)return;if(wn){let e=wn;for(wn=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Dn;){let e=Dn;for(Dn=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Go(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Vo(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Js(r),hl(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function gs(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Wo(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Wo(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Bn))return;t.globalVersion=Bn;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!gs(t)){t.flags&=-3;return}const n=se,r=ot;se=t,ot=!0;try{Go(t);const s=t.fn(t._value);(e.version===0||Dt(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{se=n,ot=r,Vo(t),t.flags&=-3}}function Js(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Js(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function hl(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let ot=!0;const Yo=[];function $t(){Yo.push(ot),ot=!1}function Nt(){const t=Yo.pop();ot=t===void 0?!0:t}function Di(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=se;se=void 0;try{e()}finally{se=n}}}let Bn=0;class dl{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Zs{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!se||!ot||se===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==se)n=this.activeLink=new dl(se,this),se.deps?(n.prevDep=se.depsTail,se.depsTail.nextDep=n,se.depsTail=n):se.deps=se.depsTail=n,Ko(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=se.depsTail,n.nextDep=void 0,se.depsTail.nextDep=n,se.depsTail=n,se.deps===n&&(se.deps=r)}return n}trigger(e){this.version++,Bn++,this.notify(e)}notify(e){Ks();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{qs()}}}function Ko(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Ko(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const ms=new WeakMap,Vt=Symbol(""),_s=Symbol(""),zn=Symbol("");function Re(t,e,n){if(ot&&se){let r=ms.get(t);r||ms.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new Zs),s.map=r,s.key=n),s.track()}}function kt(t,e,n,r,s,i){const o=ms.get(t);if(!o){Bn++;return}const a=c=>{c&&c.trigger()};if(Ks(),e==="clear")o.forEach(a);else{const c=N(t),u=c&&Vs(n);if(c&&n==="length"){const l=Number(r);o.forEach((f,g)=>{(g==="length"||g===zn||!Mt(g)&&g>=l)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(zn)),e){case"add":c?u&&a(o.get("length")):(a(o.get(Vt)),cn(t)&&a(o.get(_s)));break;case"delete":c||(a(o.get(Vt)),cn(t)&&a(o.get(_s)));break;case"set":cn(t)&&a(o.get(Vt));break}}qs()}function rn(t){const e=q(t);return e===t?e:(Re(e,"iterate",zn),tt(t)?e:e.map(Ee))}function Nr(t){return Re(t=q(t),"iterate",zn),t}const gl={__proto__:null,[Symbol.iterator](){return Zr(this,Symbol.iterator,Ee)},concat(...t){return rn(this).concat(...t.map(e=>N(e)?rn(e):e))},entries(){return Zr(this,"entries",t=>(t[1]=Ee(t[1]),t))},every(t,e){return vt(this,"every",t,e,void 0,arguments)},filter(t,e){return vt(this,"filter",t,e,n=>n.map(Ee),arguments)},find(t,e){return vt(this,"find",t,e,Ee,arguments)},findIndex(t,e){return vt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return vt(this,"findLast",t,e,Ee,arguments)},findLastIndex(t,e){return vt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return vt(this,"forEach",t,e,void 0,arguments)},includes(...t){return Xr(this,"includes",t)},indexOf(...t){return Xr(this,"indexOf",t)},join(t){return rn(this).join(t)},lastIndexOf(...t){return Xr(this,"lastIndexOf",t)},map(t,e){return vt(this,"map",t,e,void 0,arguments)},pop(){return xn(this,"pop")},push(...t){return xn(this,"push",t)},reduce(t,...e){return wi(this,"reduce",t,e)},reduceRight(t,...e){return wi(this,"reduceRight",t,e)},shift(){return xn(this,"shift")},some(t,e){return vt(this,"some",t,e,void 0,arguments)},splice(...t){return xn(this,"splice",t)},toReversed(){return rn(this).toReversed()},toSorted(t){return rn(this).toSorted(t)},toSpliced(...t){return rn(this).toSpliced(...t)},unshift(...t){return xn(this,"unshift",t)},values(){return Zr(this,"values",Ee)}};function Zr(t,e,n){const r=Nr(t),s=r[e]();return r!==t&&!tt(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const ml=Array.prototype;function vt(t,e,n,r,s,i){const o=Nr(t),a=o!==t&&!tt(t),c=o[e];if(c!==ml[e]){const f=c.apply(t,i);return a?Ee(f):f}let u=n;o!==t&&(a?u=function(f,g){return n.call(this,Ee(f),g,t)}:n.length>2&&(u=function(f,g){return n.call(this,f,g,t)}));const l=c.call(o,u,r);return a&&s?s(l):l}function wi(t,e,n,r){const s=Nr(t);let i=n;return s!==t&&(tt(t)?n.length>3&&(i=function(o,a,c){return n.call(this,o,a,c,t)}):i=function(o,a,c){return n.call(this,o,Ee(a),c,t)}),s[e](i,...r)}function Xr(t,e,n){const r=q(t);Re(r,"iterate",zn);const s=r[e](...n);return(s===-1||s===!1)&&ti(n[0])?(n[0]=q(n[0]),r[e](...n)):s}function xn(t,e,n=[]){$t(),Ks();const r=q(t)[e].apply(t,n);return qs(),Nt(),r}const _l=zs("__proto__,__v_isRef,__isVue"),qo=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Mt));function bl(t){Mt(t)||(t=String(t));const e=q(this);return Re(e,"has",t),e.hasOwnProperty(t)}class Jo{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Pl:ea:i?Qo:Xo).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=N(e);if(!s){let c;if(o&&(c=gl[n]))return c;if(n==="hasOwnProperty")return bl}const a=Reflect.get(e,n,Pe(e)?e:r);return(Mt(n)?qo.has(n):_l(n))||(s||Re(e,"get",n),i)?a:Pe(a)?o&&Vs(n)?a:a.value:le(a)?s?ta(a):Qs(a):a}}class Zo extends Jo{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const c=Wt(i);if(!tt(r)&&!Wt(r)&&(i=q(i),r=q(r)),!N(e)&&Pe(i)&&!Pe(r))return c?!1:(i.value=r,!0)}const o=N(e)&&Vs(n)?Number(n)<e.length:J(e,n),a=Reflect.set(e,n,r,Pe(e)?e:s);return e===q(s)&&(o?Dt(r,i)&&kt(e,"set",n,r):kt(e,"add",n,r)),a}deleteProperty(e,n){const r=J(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&kt(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Mt(n)||!qo.has(n))&&Re(e,"has",n),r}ownKeys(e){return Re(e,"iterate",N(e)?"length":Vt),Reflect.ownKeys(e)}}class yl extends Jo{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const xl=new Zo,vl=new yl,Cl=new Zo(!0);const bs=t=>t,sr=t=>Reflect.getPrototypeOf(t);function kl(t,e,n){return function(...r){const s=this.__v_raw,i=q(s),o=cn(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,u=s[t](...r),l=n?bs:e?ys:Ee;return!e&&Re(i,"iterate",c?_s:Vt),{next(){const{value:f,done:g}=u.next();return g?{value:f,done:g}:{value:a?[l(f[0]),l(f[1])]:l(f),done:g}},[Symbol.iterator](){return this}}}}function ir(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Sl(t,e){const n={get(s){const i=this.__v_raw,o=q(i),a=q(s);t||(Dt(s,a)&&Re(o,"get",s),Re(o,"get",a));const{has:c}=sr(o),u=e?bs:t?ys:Ee;if(c.call(o,s))return u(i.get(s));if(c.call(o,a))return u(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&Re(q(s),"iterate",Vt),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=q(i),a=q(s);return t||(Dt(s,a)&&Re(o,"has",s),Re(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,c=q(a),u=e?bs:t?ys:Ee;return!t&&Re(c,"iterate",Vt),a.forEach((l,f)=>s.call(i,u(l),u(f),o))}};return je(n,t?{add:ir("add"),set:ir("set"),delete:ir("delete"),clear:ir("clear")}:{add(s){!e&&!tt(s)&&!Wt(s)&&(s=q(s));const i=q(this);return sr(i).has.call(i,s)||(i.add(s),kt(i,"add",s,s)),this},set(s,i){!e&&!tt(i)&&!Wt(i)&&(i=q(i));const o=q(this),{has:a,get:c}=sr(o);let u=a.call(o,s);u||(s=q(s),u=a.call(o,s));const l=c.call(o,s);return o.set(s,i),u?Dt(i,l)&&kt(o,"set",s,i):kt(o,"add",s,i),this},delete(s){const i=q(this),{has:o,get:a}=sr(i);let c=o.call(i,s);c||(s=q(s),c=o.call(i,s)),a&&a.call(i,s);const u=i.delete(s);return c&&kt(i,"delete",s,void 0),u},clear(){const s=q(this),i=s.size!==0,o=s.clear();return i&&kt(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=kl(s,t,e)}),n}function Xs(t,e){const n=Sl(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(J(n,s)&&s in r?n:r,s,i)}const Tl={get:Xs(!1,!1)},Rl={get:Xs(!1,!0)},El={get:Xs(!0,!1)};const Xo=new WeakMap,Qo=new WeakMap,ea=new WeakMap,Pl=new WeakMap;function Al(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Il(t){return t.__v_skip||!Object.isExtensible(t)?0:Al(nl(t))}function Qs(t){return Wt(t)?t:ei(t,!1,xl,Tl,Xo)}function Ol(t){return ei(t,!1,Cl,Rl,Qo)}function ta(t){return ei(t,!0,vl,El,ea)}function ei(t,e,n,r,s){if(!le(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=Il(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function un(t){return Wt(t)?un(t.__v_raw):!!(t&&t.__v_isReactive)}function Wt(t){return!!(t&&t.__v_isReadonly)}function tt(t){return!!(t&&t.__v_isShallow)}function ti(t){return t?!!t.__v_raw:!1}function q(t){const e=t&&t.__v_raw;return e?q(e):t}function Dl(t){return!J(t,"__v_skip")&&Object.isExtensible(t)&&No(t,"__v_skip",!0),t}const Ee=t=>le(t)?Qs(t):t,ys=t=>le(t)?ta(t):t;function Pe(t){return t?t.__v_isRef===!0:!1}function ye(t){return wl(t,!1)}function wl(t,e){return Pe(t)?t:new Ml(t,e)}class Ml{constructor(e,n){this.dep=new Zs,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:q(e),this._value=n?e:Ee(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||tt(e)||Wt(e);e=r?e:q(e),Dt(e,n)&&(this._rawValue=e,this._value=r?e:Ee(e),this.dep.trigger())}}function Ll(t){return Pe(t)?t.value:t}const $l={get:(t,e,n)=>e==="__v_raw"?t:Ll(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Pe(s)&&!Pe(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function na(t){return un(t)?t:new Proxy(t,$l)}class Nl{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Zs(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Bn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&se!==this)return Ho(this,!0),!0}get value(){const e=this.dep.track();return Wo(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function jl(t,e,n=!1){let r,s;return F(t)?r=t:(r=t.get,s=t.set),new Nl(r,s,n)}const or={},Cr=new WeakMap;let zt;function Fl(t,e=!1,n=zt){if(n){let r=Cr.get(n);r||Cr.set(n,r=[]),r.push(t)}}function Ul(t,e,n=ne){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:c}=n,u=A=>s?A:tt(A)||s===!1||s===0?St(A,1):St(A);let l,f,g,m,C=!1,k=!1;if(Pe(t)?(f=()=>t.value,C=tt(t)):un(t)?(f=()=>u(t),C=!0):N(t)?(k=!0,C=t.some(A=>un(A)||tt(A)),f=()=>t.map(A=>{if(Pe(A))return A.value;if(un(A))return u(A);if(F(A))return c?c(A,2):A()})):F(t)?e?f=c?()=>c(t,2):t:f=()=>{if(g){$t();try{g()}finally{Nt()}}const A=zt;zt=l;try{return c?c(t,3,[m]):t(m)}finally{zt=A}}:f=mt,e&&s){const A=f,K=s===!0?1/0:s;f=()=>St(A(),K)}const z=pl(),H=()=>{l.stop(),z&&z.active&&Gs(z.effects,l)};if(i&&e){const A=e;e=(...K)=>{A(...K),H()}}let Y=k?new Array(t.length).fill(or):or;const V=A=>{if(!(!(l.flags&1)||!l.dirty&&!A))if(e){const K=l.run();if(s||C||(k?K.some((me,de)=>Dt(me,Y[de])):Dt(K,Y))){g&&g();const me=zt;zt=l;try{const de=[K,Y===or?void 0:k&&Y[0]===or?[]:Y,m];c?c(e,3,de):e(...de),Y=K}finally{zt=me}}}else l.run()};return a&&a(V),l=new Bo(f),l.scheduler=o?()=>o(V,!1):V,m=A=>Fl(A,!1,l),g=l.onStop=()=>{const A=Cr.get(l);if(A){if(c)c(A,4);else for(const K of A)K();Cr.delete(l)}},e?r?V(!0):Y=l.run():o?o(V.bind(null,!0),!0):l.run(),H.pause=l.pause.bind(l),H.resume=l.resume.bind(l),H.stop=H,H}function St(t,e=1/0,n){if(e<=0||!le(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Pe(t))St(t.value,e,n);else if(N(t))for(let r=0;r<t.length;r++)St(t[r],e,n);else if(Do(t)||cn(t))t.forEach(r=>{St(r,e,n)});else if(Lo(t)){for(const r in t)St(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&St(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function qn(t,e,n,r){try{return r?t(...r):t()}catch(s){jr(s,e,n)}}function bt(t,e,n,r){if(F(t)){const s=qn(t,e,n,r);return s&&wo(s)&&s.catch(i=>{jr(i,e,n)}),s}if(N(t)){const s=[];for(let i=0;i<t.length;i++)s.push(bt(t[i],e,n,r));return s}}function jr(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ne;if(e){let a=e.parent;const c=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const l=a.ec;if(l){for(let f=0;f<l.length;f++)if(l[f](t,c,u)===!1)return}a=a.parent}if(i){$t(),qn(i,null,10,[t,c,u]),Nt();return}}Bl(t,n,s,r,o)}function Bl(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const Me=[];let pt=-1;const fn=[];let It=null,sn=0;const ra=Promise.resolve();let kr=null;function sa(t){const e=kr||ra;return t?e.then(this?t.bind(this):t):e}function zl(t){let e=pt+1,n=Me.length;for(;e<n;){const r=e+n>>>1,s=Me[r],i=Hn(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function ni(t){if(!(t.flags&1)){const e=Hn(t),n=Me[Me.length-1];!n||!(t.flags&2)&&e>=Hn(n)?Me.push(t):Me.splice(zl(e),0,t),t.flags|=1,ia()}}function ia(){kr||(kr=ra.then(aa))}function Hl(t){N(t)?fn.push(...t):It&&t.id===-1?It.splice(sn+1,0,t):t.flags&1||(fn.push(t),t.flags|=1),ia()}function Mi(t,e,n=pt+1){for(;n<Me.length;n++){const r=Me[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Me.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function oa(t){if(fn.length){const e=[...new Set(fn)].sort((n,r)=>Hn(n)-Hn(r));if(fn.length=0,It){It.push(...e);return}for(It=e,sn=0;sn<It.length;sn++){const n=It[sn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}It=null,sn=0}}const Hn=t=>t.id==null?t.flags&2?-1:1/0:t.id;function aa(t){try{for(pt=0;pt<Me.length;pt++){const e=Me[pt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),qn(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;pt<Me.length;pt++){const e=Me[pt];e&&(e.flags&=-2)}pt=-1,Me.length=0,oa(),kr=null,(Me.length||fn.length)&&aa()}}let Xe=null,ca=null;function Sr(t){const e=Xe;return Xe=t,ca=t&&t.type.__scopeId||null,e}function Gl(t,e=Xe,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Hi(-1);const i=Sr(e);let o;try{o=t(...s)}finally{Sr(i),r._d&&Hi(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function xs(t,e){if(Xe===null)return t;const n=zr(Xe),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,c=ne]=e[s];i&&(F(i)&&(i={mounted:i,updated:i}),i.deep&&St(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function Ut(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[r];c&&($t(),bt(c,n,8,[t.el,a,t,e]),Nt())}}const Vl=Symbol("_vte"),Wl=t=>t.__isTeleport;function ri(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ri(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function la(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Tr(t,e,n,r,s=!1){if(N(t)){t.forEach((C,k)=>Tr(C,e&&(N(e)?e[k]:e),n,r,s));return}if(Mn(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Tr(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?zr(r.component):r.el,o=s?null:i,{i:a,r:c}=t,u=e&&e.r,l=a.refs===ne?a.refs={}:a.refs,f=a.setupState,g=q(f),m=f===ne?()=>!1:C=>J(g,C);if(u!=null&&u!==c&&(he(u)?(l[u]=null,m(u)&&(f[u]=null)):Pe(u)&&(u.value=null)),F(c))qn(c,a,12,[o,l]);else{const C=he(c),k=Pe(c);if(C||k){const z=()=>{if(t.f){const H=C?m(c)?f[c]:l[c]:c.value;s?N(H)&&Gs(H,i):N(H)?H.includes(i)||H.push(i):C?(l[c]=[i],m(c)&&(f[c]=l[c])):(c.value=[i],t.k&&(l[t.k]=c.value))}else C?(l[c]=o,m(c)&&(f[c]=o)):k&&(c.value=o,t.k&&(l[t.k]=o))};o?(z.id=-1,Ke(z,n)):z()}}}$r().requestIdleCallback;$r().cancelIdleCallback;const Mn=t=>!!t.type.__asyncLoader,ua=t=>t.type.__isKeepAlive;function Yl(t,e){fa(t,"a",e)}function Kl(t,e){fa(t,"da",e)}function fa(t,e,n=$e){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Fr(e,r,n),n){let s=n.parent;for(;s&&s.parent;)ua(s.parent.vnode)&&ql(r,e,n,s),s=s.parent}}function ql(t,e,n,r){const s=Fr(e,t,r,!0);ha(()=>{Gs(r[e],s)},n)}function Fr(t,e,n=$e,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{$t();const a=Zn(n),c=bt(e,n,t,o);return a(),Nt(),c});return r?s.unshift(i):s.push(i),i}}const Tt=t=>(e,n=$e)=>{(!Vn||t==="sp")&&Fr(t,(...r)=>e(...r),n)},Jl=Tt("bm"),Jn=Tt("m"),Zl=Tt("bu"),Xl=Tt("u"),pa=Tt("bum"),ha=Tt("um"),Ql=Tt("sp"),eu=Tt("rtg"),tu=Tt("rtc");function nu(t,e=$e){Fr("ec",t,e)}const ru=Symbol.for("v-ndc");function su(t,e,n,r){let s;const i=n,o=N(t);if(o||he(t)){const a=o&&un(t);let c=!1;a&&(c=!tt(t),t=Nr(t)),s=new Array(t.length);for(let u=0,l=t.length;u<l;u++)s[u]=e(c?Ee(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(le(t))if(t[Symbol.iterator])s=Array.from(t,(a,c)=>e(a,c,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let c=0,u=a.length;c<u;c++){const l=a[c];s[c]=e(t[l],l,c,i)}}else s=[];return s}const vs=t=>t?Na(t)?zr(t):vs(t.parent):null,Ln=je(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>vs(t.parent),$root:t=>vs(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>ga(t),$forceUpdate:t=>t.f||(t.f=()=>{ni(t.update)}),$nextTick:t=>t.n||(t.n=sa.bind(t.proxy)),$watch:t=>Tu.bind(t)}),Qr=(t,e)=>t!==ne&&!t.__isScriptSetup&&J(t,e),iu={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:c}=t;let u;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Qr(r,e))return o[e]=1,r[e];if(s!==ne&&J(s,e))return o[e]=2,s[e];if((u=t.propsOptions[0])&&J(u,e))return o[e]=3,i[e];if(n!==ne&&J(n,e))return o[e]=4,n[e];Cs&&(o[e]=0)}}const l=Ln[e];let f,g;if(l)return e==="$attrs"&&Re(t.attrs,"get",""),l(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==ne&&J(n,e))return o[e]=4,n[e];if(g=c.config.globalProperties,J(g,e))return g[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Qr(s,e)?(s[e]=n,!0):r!==ne&&J(r,e)?(r[e]=n,!0):J(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==ne&&J(t,o)||Qr(e,o)||(a=i[0])&&J(a,o)||J(r,o)||J(Ln,o)||J(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:J(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Li(t){return N(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Cs=!0;function ou(t){const e=ga(t),n=t.proxy,r=t.ctx;Cs=!1,e.beforeCreate&&$i(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:u,created:l,beforeMount:f,mounted:g,beforeUpdate:m,updated:C,activated:k,deactivated:z,beforeDestroy:H,beforeUnmount:Y,destroyed:V,unmounted:A,render:K,renderTracked:me,renderTriggered:de,errorCaptured:ge,serverPrefetch:Rt,expose:M,inheritAttrs:U,components:ve,directives:Et,filters:jt}=e;if(u&&au(u,r,null),o)for(const ie in o){const X=o[ie];F(X)&&(r[ie]=X.bind(n))}if(s){const ie=s.call(n,n);le(ie)&&(t.data=Qs(ie))}if(Cs=!0,i)for(const ie in i){const X=i[ie],yt=F(X)?X.bind(n,n):F(X.get)?X.get.bind(n,n):mt,Ft=!F(X)&&F(X.set)?X.set.bind(n):mt,re=Wu({get:yt,set:Ft});Object.defineProperty(r,ie,{enumerable:!0,configurable:!0,get:()=>re.value,set:We=>re.value=We})}if(a)for(const ie in a)da(a[ie],r,n,ie);if(c){const ie=F(c)?c.call(n):c;Reflect.ownKeys(ie).forEach(X=>{_a(X,ie[X])})}l&&$i(l,t,"c");function Ce(ie,X){N(X)?X.forEach(yt=>ie(yt.bind(n))):X&&ie(X.bind(n))}if(Ce(Jl,f),Ce(Jn,g),Ce(Zl,m),Ce(Xl,C),Ce(Yl,k),Ce(Kl,z),Ce(nu,ge),Ce(tu,me),Ce(eu,de),Ce(pa,Y),Ce(ha,A),Ce(Ql,Rt),N(M))if(M.length){const ie=t.exposed||(t.exposed={});M.forEach(X=>{Object.defineProperty(ie,X,{get:()=>n[X],set:yt=>n[X]=yt})})}else t.exposed||(t.exposed={});K&&t.render===mt&&(t.render=K),U!=null&&(t.inheritAttrs=U),ve&&(t.components=ve),Et&&(t.directives=Et),Rt&&la(t)}function au(t,e,n=mt){N(t)&&(t=ks(t));for(const r in t){const s=t[r];let i;le(s)?"default"in s?i=fr(s.from||r,s.default,!0):i=fr(s.from||r):i=fr(s),Pe(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function $i(t,e,n){bt(N(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function da(t,e,n,r){let s=r.includes(".")?Ia(n,r):()=>n[r];if(he(t)){const i=e[t];F(i)&&ts(s,i)}else if(F(t))ts(s,t.bind(n));else if(le(t))if(N(t))t.forEach(i=>da(i,e,n,r));else{const i=F(t.handler)?t.handler.bind(n):e[t.handler];F(i)&&ts(s,i,t)}}function ga(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!s.length&&!n&&!r?c=e:(c={},s.length&&s.forEach(u=>Rr(c,u,o,!0)),Rr(c,e,o)),le(e)&&i.set(e,c),c}function Rr(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Rr(t,i,n,!0),s&&s.forEach(o=>Rr(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=cu[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const cu={data:Ni,props:ji,emits:ji,methods:In,computed:In,beforeCreate:we,created:we,beforeMount:we,mounted:we,beforeUpdate:we,updated:we,beforeDestroy:we,beforeUnmount:we,destroyed:we,unmounted:we,activated:we,deactivated:we,errorCaptured:we,serverPrefetch:we,components:In,directives:In,watch:uu,provide:Ni,inject:lu};function Ni(t,e){return e?t?function(){return je(F(t)?t.call(this,this):t,F(e)?e.call(this,this):e)}:e:t}function lu(t,e){return In(ks(t),ks(e))}function ks(t){if(N(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function we(t,e){return t?[...new Set([].concat(t,e))]:e}function In(t,e){return t?je(Object.create(null),t,e):e}function ji(t,e){return t?N(t)&&N(e)?[...new Set([...t,...e])]:je(Object.create(null),Li(t),Li(e??{})):e}function uu(t,e){if(!t)return e;if(!e)return t;const n=je(Object.create(null),t);for(const r in e)n[r]=we(t[r],e[r]);return n}function ma(){return{app:null,config:{isNativeTag:el,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fu=0;function pu(t,e){return function(r,s=null){F(r)||(r=je({},r)),s!=null&&!le(s)&&(s=null);const i=ma(),o=new WeakSet,a=[];let c=!1;const u=i.app={_uid:fu++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:Yu,get config(){return i.config},set config(l){},use(l,...f){return o.has(l)||(l&&F(l.install)?(o.add(l),l.install(u,...f)):F(l)&&(o.add(l),l(u,...f))),u},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),u},component(l,f){return f?(i.components[l]=f,u):i.components[l]},directive(l,f){return f?(i.directives[l]=f,u):i.directives[l]},mount(l,f,g){if(!c){const m=u._ceVNode||nt(r,s);return m.appContext=i,g===!0?g="svg":g===!1&&(g=void 0),t(m,l,g),c=!0,u._container=l,l.__vue_app__=u,zr(m.component)}},onUnmount(l){a.push(l)},unmount(){c&&(bt(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(l,f){return i.provides[l]=f,u},runWithContext(l){const f=pn;pn=u;try{return l()}finally{pn=f}}};return u}}let pn=null;function _a(t,e){if($e){let n=$e.provides;const r=$e.parent&&$e.parent.provides;r===n&&(n=$e.provides=Object.create(r)),n[t]=e}}function fr(t,e,n=!1){const r=$e||Xe;if(r||pn){const s=pn?pn._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&F(e)?e.call(r&&r.proxy):e}}const ba={},ya=()=>Object.create(ba),xa=t=>Object.getPrototypeOf(t)===ba;function hu(t,e,n,r=!1){const s={},i=ya();t.propsDefaults=Object.create(null),va(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Ol(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function du(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=q(s),[c]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const l=t.vnode.dynamicProps;for(let f=0;f<l.length;f++){let g=l[f];if(Ur(t.emitsOptions,g))continue;const m=e[g];if(c)if(J(i,g))m!==i[g]&&(i[g]=m,u=!0);else{const C=wt(g);s[C]=Ss(c,a,C,m,t,!1)}else m!==i[g]&&(i[g]=m,u=!0)}}}else{va(t,e,s,i)&&(u=!0);let l;for(const f in a)(!e||!J(e,f)&&((l=Lt(f))===f||!J(e,l)))&&(c?n&&(n[f]!==void 0||n[l]!==void 0)&&(s[f]=Ss(c,a,f,void 0,t,!0)):delete s[f]);if(i!==a)for(const f in i)(!e||!J(e,f))&&(delete i[f],u=!0)}u&&kt(t.attrs,"set","")}function va(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(On(c))continue;const u=e[c];let l;s&&J(s,l=wt(c))?!i||!i.includes(l)?n[l]=u:(a||(a={}))[l]=u:Ur(t.emitsOptions,c)||(!(c in r)||u!==r[c])&&(r[c]=u,o=!0)}if(i){const c=q(n),u=a||ne;for(let l=0;l<i.length;l++){const f=i[l];n[f]=Ss(s,c,f,u[f],t,!J(u,f))}}return o}function Ss(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=J(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&F(c)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const l=Zn(s);r=u[n]=c.call(null,e),l()}}else r=c;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Lt(n))&&(r=!0))}return r}const gu=new WeakMap;function Ca(t,e,n=!1){const r=n?gu:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let c=!1;if(!F(t)){const l=f=>{c=!0;const[g,m]=Ca(f,e,!0);je(o,g),m&&a.push(...m)};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}if(!i&&!c)return le(t)&&r.set(t,an),an;if(N(i))for(let l=0;l<i.length;l++){const f=wt(i[l]);Fi(f)&&(o[f]=ne)}else if(i)for(const l in i){const f=wt(l);if(Fi(f)){const g=i[l],m=o[f]=N(g)||F(g)?{type:g}:je({},g),C=m.type;let k=!1,z=!0;if(N(C))for(let H=0;H<C.length;++H){const Y=C[H],V=F(Y)&&Y.name;if(V==="Boolean"){k=!0;break}else V==="String"&&(z=!1)}else k=F(C)&&C.name==="Boolean";m[0]=k,m[1]=z,(k||J(m,"default"))&&a.push(f)}}const u=[o,a];return le(t)&&r.set(t,u),u}function Fi(t){return t[0]!=="$"&&!On(t)}const ka=t=>t[0]==="_"||t==="$stable",si=t=>N(t)?t.map(dt):[dt(t)],mu=(t,e,n)=>{if(e._n)return e;const r=Gl((...s)=>si(e(...s)),n);return r._c=!1,r},Sa=(t,e,n)=>{const r=t._ctx;for(const s in t){if(ka(s))continue;const i=t[s];if(F(i))e[s]=mu(s,i,r);else if(i!=null){const o=si(i);e[s]=()=>o}}},Ta=(t,e)=>{const n=si(e);t.slots.default=()=>n},Ra=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},_u=(t,e,n)=>{const r=t.slots=ya();if(t.vnode.shapeFlag&32){const s=e._;s?(Ra(r,e,n),n&&No(r,"_",s,!0)):Sa(e,r)}else e&&Ta(t,e)},bu=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=ne;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:Ra(s,e,n):(i=!e.$stable,Sa(e,s)),o=e}else e&&(Ta(t,e),o={default:1});if(i)for(const a in s)!ka(a)&&o[a]==null&&delete s[a]},Ke=Du;function yu(t){return xu(t)}function xu(t,e){const n=$r();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:u,setElementText:l,parentNode:f,nextSibling:g,setScopeId:m=mt,insertStaticContent:C}=t,k=(p,h,_,x=null,b=null,y=null,E=void 0,T=null,R=!!h.dynamicChildren)=>{if(p===h)return;p&&!vn(p,h)&&(x=Pt(p),We(p,b,y,!0),p=null),h.patchFlag===-2&&(R=!1,h.dynamicChildren=null);const{type:v,ref:$,shapeFlag:P}=h;switch(v){case Br:z(p,h,_,x);break;case Yt:H(p,h,_,x);break;case ns:p==null&&Y(h,_,x,E);break;case ht:ve(p,h,_,x,b,y,E,T,R);break;default:P&1?K(p,h,_,x,b,y,E,T,R):P&6?Et(p,h,_,x,b,y,E,T,R):(P&64||P&128)&&v.process(p,h,_,x,b,y,E,T,R,At)}$!=null&&b&&Tr($,p&&p.ref,y,h||p,!h)},z=(p,h,_,x)=>{if(p==null)r(h.el=a(h.children),_,x);else{const b=h.el=p.el;h.children!==p.children&&u(b,h.children)}},H=(p,h,_,x)=>{p==null?r(h.el=c(h.children||""),_,x):h.el=p.el},Y=(p,h,_,x)=>{[p.el,p.anchor]=C(p.children,h,_,x,p.el,p.anchor)},V=({el:p,anchor:h},_,x)=>{let b;for(;p&&p!==h;)b=g(p),r(p,_,x),p=b;r(h,_,x)},A=({el:p,anchor:h})=>{let _;for(;p&&p!==h;)_=g(p),s(p),p=_;s(h)},K=(p,h,_,x,b,y,E,T,R)=>{h.type==="svg"?E="svg":h.type==="math"&&(E="mathml"),p==null?me(h,_,x,b,y,E,T,R):Rt(p,h,b,y,E,T,R)},me=(p,h,_,x,b,y,E,T)=>{let R,v;const{props:$,shapeFlag:P,transition:D,dirs:L}=p;if(R=p.el=o(p.type,y,$&&$.is,$),P&8?l(R,p.children):P&16&&ge(p.children,R,null,x,b,es(p,y),E,T),L&&Ut(p,null,x,"created"),de(R,p,p.scopeId,E,x),$){for(const Q in $)Q!=="value"&&!On(Q)&&i(R,Q,null,$[Q],y,x);"value"in $&&i(R,"value",null,$.value,y),(v=$.onVnodeBeforeMount)&&ut(v,x,p)}L&&Ut(p,null,x,"beforeMount");const j=vu(b,D);j&&D.beforeEnter(R),r(R,h,_),((v=$&&$.onVnodeMounted)||j||L)&&Ke(()=>{v&&ut(v,x,p),j&&D.enter(R),L&&Ut(p,null,x,"mounted")},b)},de=(p,h,_,x,b)=>{if(_&&m(p,_),x)for(let y=0;y<x.length;y++)m(p,x[y]);if(b){let y=b.subTree;if(h===y||Da(y.type)&&(y.ssContent===h||y.ssFallback===h)){const E=b.vnode;de(p,E,E.scopeId,E.slotScopeIds,b.parent)}}},ge=(p,h,_,x,b,y,E,T,R=0)=>{for(let v=R;v<p.length;v++){const $=p[v]=T?Ot(p[v]):dt(p[v]);k(null,$,h,_,x,b,y,E,T)}},Rt=(p,h,_,x,b,y,E)=>{const T=h.el=p.el;let{patchFlag:R,dynamicChildren:v,dirs:$}=h;R|=p.patchFlag&16;const P=p.props||ne,D=h.props||ne;let L;if(_&&Bt(_,!1),(L=D.onVnodeBeforeUpdate)&&ut(L,_,h,p),$&&Ut(h,p,_,"beforeUpdate"),_&&Bt(_,!0),(P.innerHTML&&D.innerHTML==null||P.textContent&&D.textContent==null)&&l(T,""),v?M(p.dynamicChildren,v,T,_,x,es(h,b),y):E||X(p,h,T,null,_,x,es(h,b),y,!1),R>0){if(R&16)U(T,P,D,_,b);else if(R&2&&P.class!==D.class&&i(T,"class",null,D.class,b),R&4&&i(T,"style",P.style,D.style,b),R&8){const j=h.dynamicProps;for(let Q=0;Q<j.length;Q++){const W=j[Q],Se=P[W],_e=D[W];(_e!==Se||W==="value")&&i(T,W,Se,_e,b,_)}}R&1&&p.children!==h.children&&l(T,h.children)}else!E&&v==null&&U(T,P,D,_,b);((L=D.onVnodeUpdated)||$)&&Ke(()=>{L&&ut(L,_,h,p),$&&Ut(h,p,_,"updated")},x)},M=(p,h,_,x,b,y,E)=>{for(let T=0;T<h.length;T++){const R=p[T],v=h[T],$=R.el&&(R.type===ht||!vn(R,v)||R.shapeFlag&70)?f(R.el):_;k(R,v,$,null,x,b,y,E,!0)}},U=(p,h,_,x,b)=>{if(h!==_){if(h!==ne)for(const y in h)!On(y)&&!(y in _)&&i(p,y,h[y],null,b,x);for(const y in _){if(On(y))continue;const E=_[y],T=h[y];E!==T&&y!=="value"&&i(p,y,T,E,b,x)}"value"in _&&i(p,"value",h.value,_.value,b)}},ve=(p,h,_,x,b,y,E,T,R)=>{const v=h.el=p?p.el:a(""),$=h.anchor=p?p.anchor:a("");let{patchFlag:P,dynamicChildren:D,slotScopeIds:L}=h;L&&(T=T?T.concat(L):L),p==null?(r(v,_,x),r($,_,x),ge(h.children||[],_,$,b,y,E,T,R)):P>0&&P&64&&D&&p.dynamicChildren?(M(p.dynamicChildren,D,_,b,y,E,T),(h.key!=null||b&&h===b.subTree)&&Ea(p,h,!0)):X(p,h,_,$,b,y,E,T,R)},Et=(p,h,_,x,b,y,E,T,R)=>{h.slotScopeIds=T,p==null?h.shapeFlag&512?b.ctx.activate(h,_,x,E,R):jt(h,_,x,b,y,E,R):Qn(p,h,R)},jt=(p,h,_,x,b,y,E)=>{const T=p.component=Uu(p,x,b);if(ua(p)&&(T.ctx.renderer=At),Bu(T,!1,E),T.asyncDep){if(b&&b.registerDep(T,Ce,E),!p.el){const R=T.subTree=nt(Yt);H(null,R,h,_)}}else Ce(T,p,h,_,b,y,E)},Qn=(p,h,_)=>{const x=h.component=p.component;if(Iu(p,h,_))if(x.asyncDep&&!x.asyncResolved){ie(x,h,_);return}else x.next=h,x.update();else h.el=p.el,x.vnode=h},Ce=(p,h,_,x,b,y,E)=>{const T=()=>{if(p.isMounted){let{next:P,bu:D,u:L,parent:j,vnode:Q}=p;{const Ie=Pa(p);if(Ie){P&&(P.el=Q.el,ie(p,P,E)),Ie.asyncDep.then(()=>{p.isUnmounted||T()});return}}let W=P,Se;Bt(p,!1),P?(P.el=Q.el,ie(p,P,E)):P=Q,D&&ur(D),(Se=P.props&&P.props.onVnodeBeforeUpdate)&&ut(Se,j,P,Q),Bt(p,!0);const _e=Bi(p),Ye=p.subTree;p.subTree=_e,k(Ye,_e,f(Ye.el),Pt(Ye),p,b,y),P.el=_e.el,W===null&&Ou(p,_e.el),L&&Ke(L,b),(Se=P.props&&P.props.onVnodeUpdated)&&Ke(()=>ut(Se,j,P,Q),b)}else{let P;const{el:D,props:L}=h,{bm:j,m:Q,parent:W,root:Se,type:_e}=p,Ye=Mn(h);Bt(p,!1),j&&ur(j),!Ye&&(P=L&&L.onVnodeBeforeMount)&&ut(P,W,h),Bt(p,!0);{Se.ce&&Se.ce._injectChildStyle(_e);const Ie=p.subTree=Bi(p);k(null,Ie,_,x,p,b,y),h.el=Ie.el}if(Q&&Ke(Q,b),!Ye&&(P=L&&L.onVnodeMounted)){const Ie=h;Ke(()=>ut(P,W,Ie),b)}(h.shapeFlag&256||W&&Mn(W.vnode)&&W.vnode.shapeFlag&256)&&p.a&&Ke(p.a,b),p.isMounted=!0,h=_=x=null}};p.scope.on();const R=p.effect=new Bo(T);p.scope.off();const v=p.update=R.run.bind(R),$=p.job=R.runIfDirty.bind(R);$.i=p,$.id=p.uid,R.scheduler=()=>ni($),Bt(p,!0),v()},ie=(p,h,_)=>{h.component=p;const x=p.vnode.props;p.vnode=h,p.next=null,du(p,h.props,x,_),bu(p,h.children,_),$t(),Mi(p),Nt()},X=(p,h,_,x,b,y,E,T,R=!1)=>{const v=p&&p.children,$=p?p.shapeFlag:0,P=h.children,{patchFlag:D,shapeFlag:L}=h;if(D>0){if(D&128){Ft(v,P,_,x,b,y,E,T,R);return}else if(D&256){yt(v,P,_,x,b,y,E,T,R);return}}L&8?($&16&&st(v,b,y),P!==v&&l(_,P)):$&16?L&16?Ft(v,P,_,x,b,y,E,T,R):st(v,b,y,!0):($&8&&l(_,""),L&16&&ge(P,_,x,b,y,E,T,R))},yt=(p,h,_,x,b,y,E,T,R)=>{p=p||an,h=h||an;const v=p.length,$=h.length,P=Math.min(v,$);let D;for(D=0;D<P;D++){const L=h[D]=R?Ot(h[D]):dt(h[D]);k(p[D],L,_,null,b,y,E,T,R)}v>$?st(p,b,y,!0,!1,P):ge(h,_,x,b,y,E,T,R,P)},Ft=(p,h,_,x,b,y,E,T,R)=>{let v=0;const $=h.length;let P=p.length-1,D=$-1;for(;v<=P&&v<=D;){const L=p[v],j=h[v]=R?Ot(h[v]):dt(h[v]);if(vn(L,j))k(L,j,_,null,b,y,E,T,R);else break;v++}for(;v<=P&&v<=D;){const L=p[P],j=h[D]=R?Ot(h[D]):dt(h[D]);if(vn(L,j))k(L,j,_,null,b,y,E,T,R);else break;P--,D--}if(v>P){if(v<=D){const L=D+1,j=L<$?h[L].el:x;for(;v<=D;)k(null,h[v]=R?Ot(h[v]):dt(h[v]),_,j,b,y,E,T,R),v++}}else if(v>D)for(;v<=P;)We(p[v],b,y,!0),v++;else{const L=v,j=v,Q=new Map;for(v=j;v<=D;v++){const pe=h[v]=R?Ot(h[v]):dt(h[v]);pe.key!=null&&Q.set(pe.key,v)}let W,Se=0;const _e=D-j+1;let Ye=!1,Ie=0;const at=new Array(_e);for(v=0;v<_e;v++)at[v]=0;for(v=L;v<=P;v++){const pe=p[v];if(Se>=_e){We(pe,b,y,!0);continue}let ze;if(pe.key!=null)ze=Q.get(pe.key);else for(W=j;W<=D;W++)if(at[W-j]===0&&vn(pe,h[W])){ze=W;break}ze===void 0?We(pe,b,y,!0):(at[ze-j]=v+1,ze>=Ie?Ie=ze:Ye=!0,k(pe,h[ze],_,null,b,y,E,T,R),Se++)}const Ze=Ye?Cu(at):an;for(W=Ze.length-1,v=_e-1;v>=0;v--){const pe=j+v,ze=h[pe],tn=pe+1<$?h[pe+1].el:x;at[v]===0?k(null,ze,_,tn,b,y,E,T,R):Ye&&(W<0||v!==Ze[W]?re(ze,_,tn,2):W--)}}},re=(p,h,_,x,b=null)=>{const{el:y,type:E,transition:T,children:R,shapeFlag:v}=p;if(v&6){re(p.component.subTree,h,_,x);return}if(v&128){p.suspense.move(h,_,x);return}if(v&64){E.move(p,h,_,At);return}if(E===ht){r(y,h,_);for(let P=0;P<R.length;P++)re(R[P],h,_,x);r(p.anchor,h,_);return}if(E===ns){V(p,h,_);return}if(x!==2&&v&1&&T)if(x===0)T.beforeEnter(y),r(y,h,_),Ke(()=>T.enter(y),b);else{const{leave:P,delayLeave:D,afterLeave:L}=T,j=()=>r(y,h,_),Q=()=>{P(y,()=>{j(),L&&L()})};D?D(y,j,Q):Q()}else r(y,h,_)},We=(p,h,_,x=!1,b=!1)=>{const{type:y,props:E,ref:T,children:R,dynamicChildren:v,shapeFlag:$,patchFlag:P,dirs:D,cacheIndex:L}=p;if(P===-2&&(b=!1),T!=null&&Tr(T,null,_,p,!0),L!=null&&(h.renderCache[L]=void 0),$&256){h.ctx.deactivate(p);return}const j=$&1&&D,Q=!Mn(p);let W;if(Q&&(W=E&&E.onVnodeBeforeUnmount)&&ut(W,h,p),$&6)ae(p.component,_,x);else{if($&128){p.suspense.unmount(_,x);return}j&&Ut(p,null,h,"beforeUnmount"),$&64?p.type.remove(p,h,_,At,x):v&&!v.hasOnce&&(y!==ht||P>0&&P&64)?st(v,h,_,!1,!0):(y===ht&&P&384||!b&&$&16)&&st(R,h,_),x&&fe(p)}(Q&&(W=E&&E.onVnodeUnmounted)||j)&&Ke(()=>{W&&ut(W,h,p),j&&Ut(p,null,h,"unmounted")},_)},fe=p=>{const{type:h,el:_,anchor:x,transition:b}=p;if(h===ht){er(_,x);return}if(h===ns){A(p);return}const y=()=>{s(_),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(p.shapeFlag&1&&b&&!b.persisted){const{leave:E,delayLeave:T}=b,R=()=>E(_,y);T?T(p.el,y,R):R()}else y()},er=(p,h)=>{let _;for(;p!==h;)_=g(p),s(p),p=_;s(h)},ae=(p,h,_)=>{const{bum:x,scope:b,job:y,subTree:E,um:T,m:R,a:v}=p;Ui(R),Ui(v),x&&ur(x),b.stop(),y&&(y.flags|=8,We(E,p,h,_)),T&&Ke(T,h),Ke(()=>{p.isUnmounted=!0},h),h&&h.pendingBranch&&!h.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===h.pendingId&&(h.deps--,h.deps===0&&h.resolve())},st=(p,h,_,x=!1,b=!1,y=0)=>{for(let E=y;E<p.length;E++)We(p[E],h,_,x,b)},Pt=p=>{if(p.shapeFlag&6)return Pt(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const h=g(p.anchor||p.el),_=h&&h[Vl];return _?g(_):h};let Qt=!1;const en=(p,h,_)=>{p==null?h._vnode&&We(h._vnode,null,null,!0):k(h._vnode||null,p,h,null,null,null,_),h._vnode=p,Qt||(Qt=!0,Mi(),oa(),Qt=!1)},At={p:k,um:We,m:re,r:fe,mt:jt,mc:ge,pc:X,pbc:M,n:Pt,o:t};return{render:en,hydrate:void 0,createApp:pu(en)}}function es({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Bt({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function vu(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ea(t,e,n=!1){const r=t.children,s=e.children;if(N(r)&&N(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Ot(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&Ea(o,a)),a.type===Br&&(a.el=o.el)}}function Cu(t){const e=t.slice(),n=[0];let r,s,i,o,a;const c=t.length;for(r=0;r<c;r++){const u=t[r];if(u!==0){if(s=n[n.length-1],t[s]<u){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<u?i=a+1:o=a;u<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Pa(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Pa(e)}function Ui(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const ku=Symbol.for("v-scx"),Su=()=>fr(ku);function ts(t,e,n){return Aa(t,e,n)}function Aa(t,e,n=ne){const{immediate:r,deep:s,flush:i,once:o}=n,a=je({},n),c=e&&r||!e&&i!=="post";let u;if(Vn){if(i==="sync"){const m=Su();u=m.__watcherHandles||(m.__watcherHandles=[])}else if(!c){const m=()=>{};return m.stop=mt,m.resume=mt,m.pause=mt,m}}const l=$e;a.call=(m,C,k)=>bt(m,l,C,k);let f=!1;i==="post"?a.scheduler=m=>{Ke(m,l&&l.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(m,C)=>{C?m():ni(m)}),a.augmentJob=m=>{e&&(m.flags|=4),f&&(m.flags|=2,l&&(m.id=l.uid,m.i=l))};const g=Ul(t,e,a);return Vn&&(u?u.push(g):c&&g()),g}function Tu(t,e,n){const r=this.proxy,s=he(t)?t.includes(".")?Ia(r,t):()=>r[t]:t.bind(r,r);let i;F(e)?i=e:(i=e.handler,n=e);const o=Zn(this),a=Aa(s,i.bind(r),n);return o(),a}function Ia(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Ru=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${wt(e)}Modifiers`]||t[`${Lt(e)}Modifiers`];function Eu(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||ne;let s=n;const i=e.startsWith("update:"),o=i&&Ru(r,e.slice(7));o&&(o.trim&&(s=n.map(l=>he(l)?l.trim():l)),o.number&&(s=n.map(ds)));let a,c=r[a=Kr(e)]||r[a=Kr(wt(e))];!c&&i&&(c=r[a=Kr(Lt(e))]),c&&bt(c,t,6,s);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,bt(u,t,6,s)}}function Oa(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!F(t)){const c=u=>{const l=Oa(u,e,!0);l&&(a=!0,je(o,l))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(le(t)&&r.set(t,null),null):(N(i)?i.forEach(c=>o[c]=null):je(o,i),le(t)&&r.set(t,o),o)}function Ur(t,e){return!t||!wr(e)?!1:(e=e.slice(2).replace(/Once$/,""),J(t,e[0].toLowerCase()+e.slice(1))||J(t,Lt(e))||J(t,e))}function Bi(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:c,render:u,renderCache:l,props:f,data:g,setupState:m,ctx:C,inheritAttrs:k}=t,z=Sr(t);let H,Y;try{if(n.shapeFlag&4){const A=s||r,K=A;H=dt(u.call(K,A,l,f,m,g,C)),Y=a}else{const A=e;H=dt(A.length>1?A(f,{attrs:a,slots:o,emit:c}):A(f,null)),Y=e.props?a:Pu(a)}}catch(A){$n.length=0,jr(A,t,1),H=nt(Yt)}let V=H;if(Y&&k!==!1){const A=Object.keys(Y),{shapeFlag:K}=V;A.length&&K&7&&(i&&A.some(Hs)&&(Y=Au(Y,i)),V=gn(V,Y,!1,!0))}return n.dirs&&(V=gn(V,null,!1,!0),V.dirs=V.dirs?V.dirs.concat(n.dirs):n.dirs),n.transition&&ri(V,n.transition),H=V,Sr(z),H}const Pu=t=>{let e;for(const n in t)(n==="class"||n==="style"||wr(n))&&((e||(e={}))[n]=t[n]);return e},Au=(t,e)=>{const n={};for(const r in t)(!Hs(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Iu(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:c}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?zi(r,o,u):!!o;if(c&8){const l=e.dynamicProps;for(let f=0;f<l.length;f++){const g=l[f];if(o[g]!==r[g]&&!Ur(u,g))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?zi(r,o,u):!0:!!o;return!1}function zi(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Ur(n,i))return!0}return!1}function Ou({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Da=t=>t.__isSuspense;function Du(t,e){e&&e.pendingBranch?N(t)?e.effects.push(...t):e.effects.push(t):Hl(t)}const ht=Symbol.for("v-fgt"),Br=Symbol.for("v-txt"),Yt=Symbol.for("v-cmt"),ns=Symbol.for("v-stc"),$n=[];let Je=null;function Le(t=!1){$n.push(Je=t?null:[])}function wu(){$n.pop(),Je=$n[$n.length-1]||null}let Gn=1;function Hi(t,e=!1){Gn+=t,t<0&&Je&&e&&(Je.hasOnce=!0)}function wa(t){return t.dynamicChildren=Gn>0?Je||an:null,wu(),Gn>0&&Je&&Je.push(t),t}function Ve(t,e,n,r,s,i){return wa(G(t,e,n,r,s,i,!0))}function Mu(t,e,n,r,s){return wa(nt(t,e,n,r,s,!0))}function Ma(t){return t?t.__v_isVNode===!0:!1}function vn(t,e){return t.type===e.type&&t.key===e.key}const La=({key:t})=>t??null,pr=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?he(t)||Pe(t)||F(t)?{i:Xe,r:t,k:e,f:!!n}:t:null);function G(t,e=null,n=null,r=0,s=null,i=t===ht?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&La(e),ref:e&&pr(e),scopeId:ca,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Xe};return a?(ii(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=he(n)?8:16),Gn>0&&!o&&Je&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Je.push(c),c}const nt=Lu;function Lu(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===ru)&&(t=Yt),Ma(t)){const a=gn(t,e,!0);return n&&ii(a,n),Gn>0&&!i&&Je&&(a.shapeFlag&6?Je[Je.indexOf(t)]=a:Je.push(a)),a.patchFlag=-2,a}if(Vu(t)&&(t=t.__vccOpts),e){e=$u(e);let{class:a,style:c}=e;a&&!he(a)&&(e.class=Ys(a)),le(c)&&(ti(c)&&!N(c)&&(c=je({},c)),e.style=Ws(c))}const o=he(t)?1:Da(t)?128:Wl(t)?64:le(t)?4:F(t)?2:0;return G(t,e,n,r,s,o,i,!0)}function $u(t){return t?ti(t)||xa(t)?je({},t):t:null}function gn(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:c}=t,u=e?Nu(s||{},e):s,l={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&La(u),ref:e&&e.ref?n&&i?N(i)?i.concat(pr(e)):[i,pr(e)]:pr(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ht?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&gn(t.ssContent),ssFallback:t.ssFallback&&gn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&r&&ri(l,c.clone(l)),l}function $a(t=" ",e=0){return nt(Br,null,t,e)}function hn(t="",e=!1){return e?(Le(),Mu(Yt,null,t)):nt(Yt,null,t)}function dt(t){return t==null||typeof t=="boolean"?nt(Yt):N(t)?nt(ht,null,t.slice()):Ma(t)?Ot(t):nt(Br,null,String(t))}function Ot(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:gn(t)}function ii(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(N(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),ii(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!xa(e)?e._ctx=Xe:s===3&&Xe&&(Xe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else F(e)?(e={default:e,_ctx:Xe},n=32):(e=String(e),r&64?(n=16,e=[$a(e)]):n=8);t.children=e,t.shapeFlag|=n}function Nu(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Ys([e.class,r.class]));else if(s==="style")e.style=Ws([e.style,r.style]);else if(wr(s)){const i=e[s],o=r[s];o&&i!==o&&!(N(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function ut(t,e,n,r=null){bt(t,e,7,[n,r])}const ju=ma();let Fu=0;function Uu(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||ju,i={uid:Fu++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new fl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ca(r,s),emitsOptions:Oa(r,s),emit:null,emitted:null,propsDefaults:ne,inheritAttrs:r.inheritAttrs,ctx:ne,data:ne,props:ne,attrs:ne,slots:ne,refs:ne,setupState:ne,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Eu.bind(null,i),t.ce&&t.ce(i),i}let $e=null,Er,Ts;{const t=$r(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Er=e("__VUE_INSTANCE_SETTERS__",n=>$e=n),Ts=e("__VUE_SSR_SETTERS__",n=>Vn=n)}const Zn=t=>{const e=$e;return Er(t),t.scope.on(),()=>{t.scope.off(),Er(e)}},Gi=()=>{$e&&$e.scope.off(),Er(null)};function Na(t){return t.vnode.shapeFlag&4}let Vn=!1;function Bu(t,e=!1,n=!1){e&&Ts(e);const{props:r,children:s}=t.vnode,i=Na(t);hu(t,r,i,e),_u(t,s,n);const o=i?zu(t,e):void 0;return e&&Ts(!1),o}function zu(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,iu);const{setup:r}=n;if(r){$t();const s=t.setupContext=r.length>1?Gu(t):null,i=Zn(t),o=qn(r,t,0,[t.props,s]),a=wo(o);if(Nt(),i(),(a||t.sp)&&!Mn(t)&&la(t),a){if(o.then(Gi,Gi),e)return o.then(c=>{Vi(t,c)}).catch(c=>{jr(c,t,0)});t.asyncDep=o}else Vi(t,o)}else ja(t)}function Vi(t,e,n){F(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:le(e)&&(t.setupState=na(e)),ja(t)}function ja(t,e,n){const r=t.type;t.render||(t.render=r.render||mt);{const s=Zn(t);$t();try{ou(t)}finally{Nt(),s()}}}const Hu={get(t,e){return Re(t,"get",""),t[e]}};function Gu(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Hu),slots:t.slots,emit:t.emit,expose:e}}function zr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(na(Dl(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ln)return Ln[n](t)},has(e,n){return n in e||n in Ln}})):t.proxy}function Vu(t){return F(t)&&"__vccOpts"in t}const Wu=(t,e)=>jl(t,e,Vn),Yu="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rs;const Wi=typeof window<"u"&&window.trustedTypes;if(Wi)try{Rs=Wi.createPolicy("vue",{createHTML:t=>t})}catch{}const Fa=Rs?t=>Rs.createHTML(t):t=>t,Ku="http://www.w3.org/2000/svg",qu="http://www.w3.org/1998/Math/MathML",Ct=typeof document<"u"?document:null,Yi=Ct&&Ct.createElement("template"),Ju={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Ct.createElementNS(Ku,t):e==="mathml"?Ct.createElementNS(qu,t):n?Ct.createElement(t,{is:n}):Ct.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Ct.createTextNode(t),createComment:t=>Ct.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ct.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Yi.innerHTML=Fa(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Yi.content;if(r==="svg"||r==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Zu=Symbol("_vtc");function Xu(t,e,n){const r=t[Zu];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Ki=Symbol("_vod"),Qu=Symbol("_vsh"),ef=Symbol(""),tf=/(^|;)\s*display\s*:/;function nf(t,e,n){const r=t.style,s=he(n);let i=!1;if(n&&!s){if(e)if(he(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&hr(r,a,"")}else for(const o in e)n[o]==null&&hr(r,o,"");for(const o in n)o==="display"&&(i=!0),hr(r,o,n[o])}else if(s){if(e!==n){const o=r[ef];o&&(n+=";"+o),r.cssText=n,i=tf.test(n)}}else e&&t.removeAttribute("style");Ki in t&&(t[Ki]=i?r.display:"",t[Qu]&&(r.display="none"))}const qi=/\s*!important$/;function hr(t,e,n){if(N(n))n.forEach(r=>hr(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=rf(t,e);qi.test(n)?t.setProperty(Lt(r),n.replace(qi,""),"important"):t[r]=n}}const Ji=["Webkit","Moz","ms"],rs={};function rf(t,e){const n=rs[e];if(n)return n;let r=wt(e);if(r!=="filter"&&r in t)return rs[e]=r;r=$o(r);for(let s=0;s<Ji.length;s++){const i=Ji[s]+r;if(i in t)return rs[e]=i}return e}const Zi="http://www.w3.org/1999/xlink";function Xi(t,e,n,r,s,i=ul(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Zi,e.slice(6,e.length)):t.setAttributeNS(Zi,e,n):n==null||i&&!jo(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Mt(n)?String(n):n)}function Qi(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Fa(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(a!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=jo(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function on(t,e,n,r){t.addEventListener(e,n,r)}function sf(t,e,n,r){t.removeEventListener(e,n,r)}const eo=Symbol("_vei");function of(t,e,n,r,s=null){const i=t[eo]||(t[eo]={}),o=i[e];if(r&&o)o.value=r;else{const[a,c]=af(e);if(r){const u=i[e]=uf(r,s);on(t,a,u,c)}else o&&(sf(t,a,o,c),i[e]=void 0)}}const to=/(?:Once|Passive|Capture)$/;function af(t){let e;if(to.test(t)){e={};let r;for(;r=t.match(to);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Lt(t.slice(2)),e]}let ss=0;const cf=Promise.resolve(),lf=()=>ss||(cf.then(()=>ss=0),ss=Date.now());function uf(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;bt(ff(r,n.value),e,5,[r])};return n.value=t,n.attached=lf(),n}function ff(t,e){if(N(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const no=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,pf=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?Xu(t,r,o):e==="style"?nf(t,n,r):wr(e)?Hs(e)||of(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):hf(t,e,r,o))?(Qi(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Xi(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!he(r))?Qi(t,wt(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Xi(t,e,r,o))};function hf(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&no(e)&&F(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return no(e)&&he(n)?!1:e in t}const ro=t=>{const e=t.props["onUpdate:modelValue"]||!1;return N(e)?n=>ur(e,n):e};function df(t){t.target.composing=!0}function so(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const is=Symbol("_assign"),Es={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[is]=ro(s);const i=r||s.props&&s.props.type==="number";on(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=ds(a)),t[is](a)}),n&&on(t,"change",()=>{t.value=t.value.trim()}),e||(on(t,"compositionstart",df),on(t,"compositionend",so),on(t,"change",so))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[is]=ro(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?ds(t.value):t.value,c=e??"";a!==c&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===c)||(t.value=c))}},gf={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ua=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=Lt(s.key);if(e.some(o=>o===i||gf[o]===i))return t(s)})},mf=je({patchProp:pf},Ju);let io;function _f(){return io||(io=yu(mf))}const bf=(...t)=>{const e=_f().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=xf(r);if(!s)return;const i=e._component;!F(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,yf(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function yf(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function xf(t){return he(t)?document.querySelector(t):t}class vf{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const n of this._parts)e.push(n);return Cf(e).buffer}}function Cf(t){let e=0;for(const s of t)e+=s.byteLength;const n=new Uint8Array(e);let r=0;for(const s of t){const i=new Uint8Array(s.buffer,s.byteOffset,s.byteLength);n.set(i,r),r+=s.byteLength}return n}function Ba(t){return new kf(t).unpack()}function za(t){const e=new Sf,n=e.pack(t);return n instanceof Promise?n.then(()=>e.getBuffer()):e.getBuffer()}class kf{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let n;if((n=e^160)<=15)return this.unpack_raw(n);if((n=e^176)<=15)return this.unpack_string(n);if((n=e^144)<=15)return this.unpack_array(n);if((n=e^128)<=15)return this.unpack_map(n);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),n=(e[0]&255)*256+(e[1]&255);return this.index+=2,n}unpack_uint32(){const e=this.read(4),n=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,n}unpack_uint64(){const e=this.read(8),n=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,n}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,n}unpack_string(e){const n=this.read(e);let r=0,s="",i,o;for(;r<e;)i=n[r],i<160?(o=i,r++):(i^192)<32?(o=(i&31)<<6|n[r+1]&63,r+=2):(i^224)<16?(o=(i&15)<<12|(n[r+1]&63)<<6|n[r+2]&63,r+=3):(o=(i&7)<<18|(n[r+1]&63)<<12|(n[r+2]&63)<<6|n[r+3]&63,r+=4),s+=String.fromCodePoint(o);return this.index+=e,s}unpack_array(e){const n=new Array(e);for(let r=0;r<e;r++)n[r]=this.unpack();return n}unpack_map(e){const n={};for(let r=0;r<e;r++){const s=this.unpack();n[s]=this.unpack()}return n}unpack_float(){const e=this.unpack_uint32(),n=e>>31,r=(e>>23&255)-127,s=e&8388607|8388608;return(n===0?1:-1)*s*2**(r-23)}unpack_double(){const e=this.unpack_uint32(),n=this.unpack_uint32(),r=e>>31,s=(e>>20&2047)-1023,o=(e&1048575|1048576)*2**(s-20)+n*2**(s-52);return(r===0?1:-1)*o}read(e){const n=this.index;if(n+e<=this.length)return this.dataView.subarray(n,n+e);throw new Error("BinaryPackFailure: read index out of range")}}class Sf{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const n=e.constructor;if(e instanceof Array){const r=this.pack_array(e);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const r=e;this.pack_bin(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(r=>{this.pack_bin(new Uint8Array(r)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const r=this.pack_object(e);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const n=e.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const n=this._textEncoder.encode(e),r=n.length;if(r<=15)this.pack_uint8(176+r);else if(r<=65535)this._bufferBuilder.append(216),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(e){const n=e.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const r=s=>{if(s<n){const i=this.pack(e[s]);return i instanceof Promise?i.then(()=>r(s+1)):r(s+1)}};return r(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let n=0;e<0&&(n=1,e=-e);const r=Math.floor(Math.log(e)/Math.LN2),s=e/2**r-1,i=Math.floor(s*2**52),o=2**32,a=n<<31|r+1023<<20|i/o&1048575,c=i%o;this._bufferBuilder.append(203),this.pack_int32(a),this.pack_int32(c)}pack_object(e){const n=Object.keys(e),r=n.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this._bufferBuilder.append(222),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(r);else throw new Error("Invalid length");const s=i=>{if(i<n.length){const o=n[i];if(e.hasOwnProperty(o)){this.pack(o);const a=this.pack(e[o]);if(a instanceof Promise)return a.then(()=>s(i+1))}return s(i+1)}};return s(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const n=e&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(e){const n=e/4294967296,r=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const n=Math.floor(e/4294967296),r=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}constructor(){this._bufferBuilder=new vf,this._textEncoder=new TextEncoder}}let Ha=!0,Ga=!0;function dr(t,e,n){const r=t.match(e);return r&&r.length>=n&&parseInt(r[n],10)}function qt(t,e,n){if(!t.RTCPeerConnection)return;const r=t.RTCPeerConnection.prototype,s=r.addEventListener;r.addEventListener=function(o,a){if(o!==e)return s.apply(this,arguments);const c=u=>{const l=n(u);l&&(a.handleEvent?a.handleEvent(l):a(l))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(a,c),s.apply(this,[o,c])};const i=r.removeEventListener;r.removeEventListener=function(o,a){if(o!==e||!this._eventMap||!this._eventMap[e])return i.apply(this,arguments);if(!this._eventMap[e].has(a))return i.apply(this,arguments);const c=this._eventMap[e].get(a);return this._eventMap[e].delete(a),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,i.apply(this,[o,c])},Object.defineProperty(r,"on"+e,{get(){return this["_on"+e]},set(o){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),o&&this.addEventListener(e,this["_on"+e]=o)},enumerable:!0,configurable:!0})}function Tf(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(Ha=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function Rf(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(Ga=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function Va(){if(typeof window=="object"){if(Ha)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function oi(t,e){Ga&&console.warn(t+" is deprecated, please use "+e+" instead.")}function Ef(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(s=>s.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)e.browser="firefox",e.version=dr(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=dr(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=dr(n.userAgent,/AppleWebKit\/(\d+)\./,1),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype;else return e.browser="Not a supported browser.",e;return e}function oo(t){return Object.prototype.toString.call(t)==="[object Object]"}function Wa(t){return oo(t)?Object.keys(t).reduce(function(e,n){const r=oo(t[n]),s=r?Wa(t[n]):t[n],i=r&&!Object.keys(s).length;return s===void 0||i?e:Object.assign(e,{[n]:s})},{}):t}function Ps(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(r=>{r.endsWith("Id")?Ps(t,t.get(e[r]),n):r.endsWith("Ids")&&e[r].forEach(s=>{Ps(t,t.get(s),n)})}))}function ao(t,e,n){const r=n?"outbound-rtp":"inbound-rtp",s=new Map;if(e===null)return s;const i=[];return t.forEach(o=>{o.type==="track"&&o.trackIdentifier===e.id&&i.push(o)}),i.forEach(o=>{t.forEach(a=>{a.type===r&&a.trackId===o.id&&Ps(t,a,s)})}),s}const co=Va;function Ya(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const c={};return Object.keys(a).forEach(u=>{if(u==="require"||u==="advanced"||u==="mediaSource")return;const l=typeof a[u]=="object"?a[u]:{ideal:a[u]};l.exact!==void 0&&typeof l.exact=="number"&&(l.min=l.max=l.exact);const f=function(g,m){return g?g+m.charAt(0).toUpperCase()+m.slice(1):m==="deviceId"?"sourceId":m};if(l.ideal!==void 0){c.optional=c.optional||[];let g={};typeof l.ideal=="number"?(g[f("min",u)]=l.ideal,c.optional.push(g),g={},g[f("max",u)]=l.ideal,c.optional.push(g)):(g[f("",u)]=l.ideal,c.optional.push(g))}l.exact!==void 0&&typeof l.exact!="number"?(c.mandatory=c.mandatory||{},c.mandatory[f("",u)]=l.exact):["min","max"].forEach(g=>{l[g]!==void 0&&(c.mandatory=c.mandatory||{},c.mandatory[f(g,u)]=l[g])})}),a.advanced&&(c.optional=(c.optional||[]).concat(a.advanced)),c},s=function(a,c){if(e.version>=61)return c(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const u=function(l,f,g){f in l&&!(g in l)&&(l[g]=l[f],delete l[f])};a=JSON.parse(JSON.stringify(a)),u(a.audio,"autoGainControl","googAutoGainControl"),u(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let u=a.video.facingMode;u=u&&(typeof u=="object"?u:{ideal:u});const l=e.version<66;if(u&&(u.exact==="user"||u.exact==="environment"||u.ideal==="user"||u.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!l)){delete a.video.facingMode;let f;if(u.exact==="environment"||u.ideal==="environment"?f=["back","rear"]:(u.exact==="user"||u.ideal==="user")&&(f=["front"]),f)return n.mediaDevices.enumerateDevices().then(g=>{g=g.filter(C=>C.kind==="videoinput");let m=g.find(C=>f.some(k=>C.label.toLowerCase().includes(k)));return!m&&g.length&&f.includes("back")&&(m=g[g.length-1]),m&&(a.video.deviceId=u.exact?{exact:m.deviceId}:{ideal:m.deviceId}),a.video=r(a.video),co("chrome: "+JSON.stringify(a)),c(a)})}a.video=r(a.video)}return co("chrome: "+JSON.stringify(a)),c(a)},i=function(a){return e.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(a,c,u){s(a,l=>{n.webkitGetUserMedia(l,c,f=>{u&&u(i(f))})})};if(n.getUserMedia=o.bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(c){return s(c,u=>a(u).then(l=>{if(u.audio&&!l.getAudioTracks().length||u.video&&!l.getVideoTracks().length)throw l.getTracks().forEach(f=>{f.stop()}),new DOMException("","NotFoundError");return l},l=>Promise.reject(i(l))))}}}function Ka(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function qa(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",s=>{let i;t.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===s.track.id):i={track:s.track};const o=new Event("track");o.track=s.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[r.stream],this.dispatchEvent(o)}),r.stream.getTracks().forEach(s=>{let i;t.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===s.id):i={track:s};const o=new Event("track");o.track=s,o.receiver=i,o.transceiver={receiver:i},o.streams=[r.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else qt(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function Ja(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(s,i){return{track:i,get dtmf(){return this._dtmf===void 0&&(i.kind==="audio"?this._dtmf=s.createDTMFSender(i):this._dtmf=null),this._dtmf},_pc:s}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const s=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(a,c){let u=s.apply(this,arguments);return u||(u=e(this,a),this._senders.push(u)),u};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(a){i.apply(this,arguments);const c=this._senders.indexOf(a);c!==-1&&this._senders.splice(c,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(i){this._senders=this._senders||[],n.apply(this,[i]),i.getTracks().forEach(o=>{this._senders.push(e(this,o))})};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(i){this._senders=this._senders||[],r.apply(this,[i]),i.getTracks().forEach(o=>{const a=this._senders.find(c=>c.track===o);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(s=>s._pc=this),r},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Za(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=n.apply(this,[]);return i.forEach(o=>o._pc=this),i});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=r.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){const i=this;return this._pc.getStats().then(o=>ao(o,i.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const s=n.apply(this,[]);return s.forEach(i=>i._pc=this),s}),qt(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){const s=this;return this._pc.getStats().then(i=>ao(i,s.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const r=arguments[0];let s,i,o;return this.getSenders().forEach(a=>{a.track===r&&(s?o=!0:s=a)}),this.getReceivers().forEach(a=>(a.track===r&&(i?o=!0:i=a),a.track===r)),o||s&&i?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):s?s.getStats():i?i.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function Xa(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(o,a){if(!a)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const c=e.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(c)===-1&&this._shimmedLocalStreams[a.id].push(c):this._shimmedLocalStreams[a.id]=[a,c],c};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(u=>{if(this.getSenders().find(f=>f.track===u))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const c=this.getSenders().filter(u=>a.indexOf(u)===-1);this._shimmedLocalStreams[o.id]=[o].concat(c)};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],r.apply(this,arguments)};const s=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const c=this._shimmedLocalStreams[a].indexOf(o);c!==-1&&this._shimmedLocalStreams[a].splice(c,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),s.apply(this,arguments)}}function Qa(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return Xa(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const l=n.apply(this);return this._reverseStreams=this._reverseStreams||{},l.map(f=>this._reverseStreams[f.id])};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(l){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},l.getTracks().forEach(f=>{if(this.getSenders().find(m=>m.track===f))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[l.id]){const f=new t.MediaStream(l.getTracks());this._streams[l.id]=f,this._reverseStreams[f.id]=l,l=f}r.apply(this,[l])};const s=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(l){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},s.apply(this,[this._streams[l.id]||l]),delete this._reverseStreams[this._streams[l.id]?this._streams[l.id].id:l.id],delete this._streams[l.id]},t.RTCPeerConnection.prototype.addTrack=function(l,f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const g=[].slice.call(arguments,1);if(g.length!==1||!g[0].getTracks().find(k=>k===l))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(k=>k.track===l))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const C=this._streams[f.id];if(C)C.addTrack(l),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const k=new t.MediaStream([l]);this._streams[f.id]=k,this._reverseStreams[k.id]=f,this.addStream(k)}return this.getSenders().find(k=>k.track===l)};function i(u,l){let f=l.sdp;return Object.keys(u._reverseStreams||[]).forEach(g=>{const m=u._reverseStreams[g],C=u._streams[m.id];f=f.replace(new RegExp(C.id,"g"),m.id)}),new RTCSessionDescription({type:l.type,sdp:f})}function o(u,l){let f=l.sdp;return Object.keys(u._reverseStreams||[]).forEach(g=>{const m=u._reverseStreams[g],C=u._streams[m.id];f=f.replace(new RegExp(m.id,"g"),C.id)}),new RTCSessionDescription({type:l.type,sdp:f})}["createOffer","createAnswer"].forEach(function(u){const l=t.RTCPeerConnection.prototype[u],f={[u](){const g=arguments;return arguments.length&&typeof arguments[0]=="function"?l.apply(this,[C=>{const k=i(this,C);g[0].apply(null,[k])},C=>{g[1]&&g[1].apply(null,C)},arguments[2]]):l.apply(this,arguments).then(C=>i(this,C))}};t.RTCPeerConnection.prototype[u]=f[u]});const a=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=o(this,arguments[0]),a.apply(this,arguments))};const c=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const u=c.get.apply(this);return u.type===""?u:i(this,u)}}),t.RTCPeerConnection.prototype.removeTrack=function(l){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!l._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(l._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let g;Object.keys(this._streams).forEach(m=>{this._streams[m].getTracks().find(k=>l.track===k)&&(g=this._streams[m])}),g&&(g.getTracks().length===1?this.removeStream(this._reverseStreams[g.id]):g.removeTrack(l.track),this.dispatchEvent(new Event("negotiationneeded")))}}function As(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=t.RTCPeerConnection.prototype[n],s={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=s[n]})}function ec(t,e){qt(t,"negotiationneeded",n=>{const r=n.target;if(!((e.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const lo=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:ec,shimAddTrackRemoveTrack:Qa,shimAddTrackRemoveTrackWithNative:Xa,shimGetSendersWithDtmf:Ja,shimGetUserMedia:Ya,shimMediaStream:Ka,shimOnTrack:qa,shimPeerConnection:As,shimSenderReceiverGetStats:Za},Symbol.toStringTag,{value:"Module"}));function tc(t,e){const n=t&&t.navigator,r=t&&t.MediaStreamTrack;if(n.getUserMedia=function(s,i,o){oi("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(s).then(i,o)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const s=function(o,a,c){a in o&&!(c in o)&&(o[c]=o[a],delete o[a])},i=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),s(o.audio,"autoGainControl","mozAutoGainControl"),s(o.audio,"noiseSuppression","mozNoiseSuppression")),i(o)},r&&r.prototype.getSettings){const o=r.prototype.getSettings;r.prototype.getSettings=function(){const a=o.apply(this,arguments);return s(a,"mozAutoGainControl","autoGainControl"),s(a,"mozNoiseSuppression","noiseSuppression"),a}}if(r&&r.prototype.applyConstraints){const o=r.prototype.applyConstraints;r.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),s(a,"autoGainControl","mozAutoGainControl"),s(a,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[a])}}}}function Pf(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const s=new DOMException("getDisplayMedia without video constraints is undefined");return s.name="NotFoundError",s.code=8,Promise.reject(s)}return r.video===!0?r.video={mediaSource:e}:r.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(r)})}function nc(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Is(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(s){const i=t.RTCPeerConnection.prototype[s],o={[s](){return arguments[0]=new(s==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};t.RTCPeerConnection.prototype[s]=o[s]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[i,o,a]=arguments;return r.apply(this,[i||null]).then(c=>{if(e.version<53&&!o)try{c.forEach(u=>{u.type=n[u.type]||u.type})}catch(u){if(u.name!=="TypeError")throw u;c.forEach((l,f)=>{c.set(f,Object.assign({},l,{type:n[l.type]||l.type}))})}return c}).then(o,a)}}function rc(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const s=e.apply(this,[]);return s.forEach(i=>i._pc=this),s});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const s=n.apply(this,arguments);return s._pc=this,s}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function sc(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const r=e.apply(this,[]);return r.forEach(s=>s._pc=this),r}),qt(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function ic(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){oi("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function oc(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function ac(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const s=r.length>0;s&&r.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const i=e.apply(this,arguments);if(s){const{sender:o}=i,a=o.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=r,o.sendEncodings=r,this.setParametersPromises.push(o.setParameters(a).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return i})}function cc(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const r=e.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function lc(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function uc(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const uo=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:ac,shimCreateAnswer:uc,shimCreateOffer:lc,shimGetDisplayMedia:Pf,shimGetParameters:cc,shimGetUserMedia:tc,shimOnTrack:nc,shimPeerConnection:Is,shimRTCDataChannel:oc,shimReceiverGetStats:sc,shimRemoveStream:ic,shimSenderGetStats:rc},Symbol.toStringTag,{value:"Module"}));function fc(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(s=>e.call(this,s,r)),r.getVideoTracks().forEach(s=>e.call(this,s,r))},t.RTCPeerConnection.prototype.addTrack=function(r,...s){return s&&s.forEach(i=>{this._localStreams?this._localStreams.includes(i)||this._localStreams.push(i):this._localStreams=[i]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const s=n.getTracks();this.getSenders().forEach(i=>{s.includes(i.track)&&this.removeTrack(i)})})}}function pc(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(s=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(s))return;this._remoteStreams.push(s);const i=new Event("addstream");i.stream=s,this.dispatchEvent(i)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(s){s.streams.forEach(i=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(i)>=0)return;r._remoteStreams.push(i);const o=new Event("addstream");o.stream=i,r.dispatchEvent(o)})}),e.apply(r,arguments)}}}function hc(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,r=e.createAnswer,s=e.setLocalDescription,i=e.setRemoteDescription,o=e.addIceCandidate;e.createOffer=function(u,l){const f=arguments.length>=2?arguments[2]:arguments[0],g=n.apply(this,[f]);return l?(g.then(u,l),Promise.resolve()):g},e.createAnswer=function(u,l){const f=arguments.length>=2?arguments[2]:arguments[0],g=r.apply(this,[f]);return l?(g.then(u,l),Promise.resolve()):g};let a=function(c,u,l){const f=s.apply(this,[c]);return l?(f.then(u,l),Promise.resolve()):f};e.setLocalDescription=a,a=function(c,u,l){const f=i.apply(this,[c]);return l?(f.then(u,l),Promise.resolve()):f},e.setRemoteDescription=a,a=function(c,u,l){const f=o.apply(this,[c]);return l?(f.then(u,l),Promise.resolve()):f},e.addIceCandidate=a}function dc(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,r=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=s=>r(gc(s))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(r,s,i){e.mediaDevices.getUserMedia(r).then(s,i)}).bind(e))}function gc(t){return t&&t.video!==void 0?Object.assign({},t,{video:Wa(t.video)}):t}function mc(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(r,s){if(r&&r.iceServers){const i=[];for(let o=0;o<r.iceServers.length;o++){let a=r.iceServers[o];a.urls===void 0&&a.url?(oi("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,i.push(a)):i.push(r.iceServers[o])}r.iceServers=i}return new e(r,s)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function _c(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function bc(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const s=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveAudio===!0&&!s&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveVideo===!0&&!i&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function yc(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const fo=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:yc,shimCallbacksAPI:hc,shimConstraints:gc,shimCreateOfferLegacy:bc,shimGetUserMedia:dc,shimLocalStreamsAPI:fc,shimRTCIceServerUrls:mc,shimRemoteStreamsAPI:pc,shimTrackEventTransceiver:_c},Symbol.toStringTag,{value:"Module"}));function Af(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var os={exports:{}},po;function If(){return po||(po=1,function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},e.splitSections=function(n){return n.split(`
m=`).map((s,i)=>(i>0?"m="+s:s).trim()+`\r
`)},e.getDescription=function(n){const r=e.splitSections(n);return r&&r[0]},e.getMediaSections=function(n){const r=e.splitSections(n);return r.shift(),r},e.matchPrefix=function(n,r){return e.splitLines(n).filter(s=>s.indexOf(r)===0)},e.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const s={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let i=8;i<r.length;i+=2)switch(r[i]){case"raddr":s.relatedAddress=r[i+1];break;case"rport":s.relatedPort=parseInt(r[i+1],10);break;case"tcptype":s.tcpType=r[i+1];break;case"ufrag":s.ufrag=r[i+1],s.usernameFragment=r[i+1];break;default:s[r[i]]===void 0&&(s[r[i]]=r[i+1]);break}return s},e.writeCandidate=function(n){const r=[];r.push(n.foundation);const s=n.component;s==="rtp"?r.push(1):s==="rtcp"?r.push(2):r.push(s),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const i=n.type;return r.push("typ"),r.push(i),i!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},e.parseIceOptions=function(n){return n.substring(14).split(" ")},e.parseRtpMap=function(n){let r=n.substring(9).split(" ");const s={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),s.name=r[0],s.clockRate=parseInt(r[1],10),s.channels=r.length===3?parseInt(r[2],10):1,s.numChannels=s.channels,s},e.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const s=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(s!==1?"/"+s:"")+`\r
`},e.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},e.parseFmtp=function(n){const r={};let s;const i=n.substring(n.indexOf(" ")+1).split(";");for(let o=0;o<i.length;o++)s=i[o].trim().split("="),r[s[0].trim()]=s[1];return r},e.writeFmtp=function(n){let r="",s=n.payloadType;if(n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const i=[];Object.keys(n.parameters).forEach(o=>{n.parameters[o]!==void 0?i.push(o+"="+n.parameters[o]):i.push(o)}),r+="a=fmtp:"+s+" "+i.join(";")+`\r
`}return r},e.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},e.writeRtcpFb=function(n){let r="",s=n.payloadType;return n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(i=>{r+="a=rtcp-fb:"+s+" "+i.type+(i.parameter&&i.parameter.length?" "+i.parameter:"")+`\r
`}),r},e.parseSsrcMedia=function(n){const r=n.indexOf(" "),s={ssrc:parseInt(n.substring(7,r),10)},i=n.indexOf(":",r);return i>-1?(s.attribute=n.substring(r+1,i),s.value=n.substring(i+1)):s.attribute=n.substring(r+1),s},e.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(s=>parseInt(s,10))}},e.getMid=function(n){const r=e.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},e.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},e.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:e.matchPrefix(n+r,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,r){let s="a=setup:"+r+`\r
`;return n.fingerprints.forEach(i=>{s+="a=fingerprint:"+i.algorithm+" "+i.value+`\r
`}),s},e.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,r){return e.matchPrefix(n+r,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,r){const s=e.matchPrefix(n+r,"a=ice-ufrag:")[0],i=e.matchPrefix(n+r,"a=ice-pwd:")[0];return s&&i?{usernameFragment:s.substring(12),password:i.substring(10)}:null},e.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},e.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=e.splitLines(n)[0].split(" ");r.profile=i[2];for(let a=3;a<i.length;a++){const c=i[a],u=e.matchPrefix(n,"a=rtpmap:"+c+" ")[0];if(u){const l=e.parseRtpMap(u),f=e.matchPrefix(n,"a=fmtp:"+c+" ");switch(l.parameters=f.length?e.parseFmtp(f[0]):{},l.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+c+" ").map(e.parseRtcpFb),r.codecs.push(l),l.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(l.name.toUpperCase());break}}}e.matchPrefix(n,"a=extmap:").forEach(a=>{r.headerExtensions.push(e.parseExtmap(a))});const o=e.matchPrefix(n,"a=rtcp-fb:* ").map(e.parseRtcpFb);return r.codecs.forEach(a=>{o.forEach(c=>{a.rtcpFeedback.find(l=>l.type===c.type&&l.parameter===c.parameter)||a.rtcpFeedback.push(c)})}),r},e.writeRtpDescription=function(n,r){let s="";s+="m="+n+" ",s+=r.codecs.length>0?"9":"0",s+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",s+=r.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,s+=`c=IN IP4 0.0.0.0\r
`,s+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(o=>{s+=e.writeRtpMap(o),s+=e.writeFmtp(o),s+=e.writeRtcpFb(o)});let i=0;return r.codecs.forEach(o=>{o.maxptime>i&&(i=o.maxptime)}),i>0&&(s+="a=maxptime:"+i+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(o=>{s+=e.writeExtmap(o)}),s},e.parseRtpEncodingParameters=function(n){const r=[],s=e.parseRtpParameters(n),i=s.fecMechanisms.indexOf("RED")!==-1,o=s.fecMechanisms.indexOf("ULPFEC")!==-1,a=e.matchPrefix(n,"a=ssrc:").map(g=>e.parseSsrcMedia(g)).filter(g=>g.attribute==="cname"),c=a.length>0&&a[0].ssrc;let u;const l=e.matchPrefix(n,"a=ssrc-group:FID").map(g=>g.substring(17).split(" ").map(C=>parseInt(C,10)));l.length>0&&l[0].length>1&&l[0][0]===c&&(u=l[0][1]),s.codecs.forEach(g=>{if(g.name.toUpperCase()==="RTX"&&g.parameters.apt){let m={ssrc:c,codecPayloadType:parseInt(g.parameters.apt,10)};c&&u&&(m.rtx={ssrc:u}),r.push(m),i&&(m=JSON.parse(JSON.stringify(m)),m.fec={ssrc:c,mechanism:o?"red+ulpfec":"red"},r.push(m))}}),r.length===0&&c&&r.push({ssrc:c});let f=e.matchPrefix(n,"b=");return f.length&&(f[0].indexOf("b=TIAS:")===0?f=parseInt(f[0].substring(7),10):f[0].indexOf("b=AS:")===0?f=parseInt(f[0].substring(5),10)*1e3*.95-50*40*8:f=void 0,r.forEach(g=>{g.maxBitrate=f})),r},e.parseRtcpParameters=function(n){const r={},s=e.matchPrefix(n,"a=ssrc:").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];s&&(r.cname=s.value,r.ssrc=s.ssrc);const i=e.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=i.length>0,r.compound=i.length===0;const o=e.matchPrefix(n,"a=rtcp-mux");return r.mux=o.length>0,r},e.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},e.parseMsid=function(n){let r;const s=e.matchPrefix(n,"a=msid:");if(s.length===1)return r=s[0].substring(7).split(" "),{stream:r[0],track:r[1]};const i=e.matchPrefix(n,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(i.length>0)return r=i[0].value.split(" "),{stream:r[0],track:r[1]}},e.parseSctpDescription=function(n){const r=e.parseMLine(n),s=e.matchPrefix(n,"a=max-message-size:");let i;s.length>0&&(i=parseInt(s[0].substring(19),10)),isNaN(i)&&(i=65536);const o=e.matchPrefix(n,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:r.fmt,maxMessageSize:i};const a=e.matchPrefix(n,"a=sctpmap:");if(a.length>0){const c=a[0].substring(10).split(" ");return{port:parseInt(c[0],10),protocol:c[1],maxMessageSize:i}}},e.writeSctpDescription=function(n,r){let s=[];return n.protocol!=="DTLS/SCTP"?s=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:s=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&s.push("a=max-message-size:"+r.maxMessageSize+`\r
`),s.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,r,s){let i;const o=r!==void 0?r:2;return n?i=n:i=e.generateSessionId(),`v=0\r
o=`+(s||"thisisadapterortc")+" "+i+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,r){const s=e.splitLines(n);for(let i=0;i<s.length;i++)switch(s[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return s[i].substring(2)}return r?e.getDirection(r):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substring(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const s=e.splitLines(n)[0].substring(2).split(" ");return{kind:s[0],port:parseInt(s[1],10),protocol:s[2],fmt:s.slice(3).join(" ")}},e.parseOLine=function(n){const s=e.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:s[0],sessionId:s[1],sessionVersion:parseInt(s[2],10),netType:s[3],addressType:s[4],address:s[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=e.splitLines(n);for(let s=0;s<r.length;s++)if(r[s].length<2||r[s].charAt(1)!=="=")return!1;return!0},t.exports=e}(os)),os.exports}var xc=If();const dn=Af(xc),Of=Qc({__proto__:null,default:dn},[xc]);function gr(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const s=new e(r),i=dn.parseCandidate(r.candidate);for(const o in i)o in s||Object.defineProperty(s,o,{value:i[o]});return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new e(r)},t.RTCIceCandidate.prototype=e.prototype,qt(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Os(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||qt(t,"icecandidate",e=>{if(e.candidate){const n=dn.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function mr(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(a){if(!a||!a.sdp)return!1;const c=dn.splitSections(a.sdp);return c.shift(),c.some(u=>{const l=dn.parseMLine(u);return l&&l.kind==="application"&&l.protocol.indexOf("SCTP")!==-1})},r=function(a){const c=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(c===null||c.length<2)return-1;const u=parseInt(c[1],10);return u!==u?-1:u},s=function(a){let c=65536;return e.browser==="firefox"&&(e.version<57?a===-1?c=16384:c=2147483637:e.version<60?c=e.version===57?65535:65536:c=2147483637),c},i=function(a,c){let u=65536;e.browser==="firefox"&&e.version===57&&(u=65535);const l=dn.matchPrefix(a.sdp,"a=max-message-size:");return l.length>0?u=parseInt(l[0].substring(19),10):e.browser==="firefox"&&c!==-1&&(u=2147483637),u},o=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:c}=this.getConfiguration();c==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const c=r(arguments[0]),u=s(c),l=i(arguments[0],c);let f;u===0&&l===0?f=Number.POSITIVE_INFINITY:u===0||l===0?f=Math.max(u,l):f=Math.min(u,l);const g={};Object.defineProperty(g,"maxMessageSize",{get(){return f}}),this._sctp=g}return o.apply(this,arguments)}}function _r(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(r,s){const i=r.send;r.send=function(){const a=arguments[0],c=a.length||a.size||a.byteLength;if(r.readyState==="open"&&s.sctp&&c>s.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+s.sctp.maxMessageSize+" bytes)");return i.apply(r,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const s=n.apply(this,arguments);return e(s,this),s},qt(t,"datachannel",r=>(e(r.channel,r.target),r))}function Ds(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=s=>{const i=s.target;if(i._lastConnectionState!==i.connectionState){i._lastConnectionState=i.connectionState;const o=new Event("connectionstatechange",s);i.dispatchEvent(o)}return s},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function ws(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e.version>=605)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(s){if(s&&s.sdp&&s.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const i=s.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&s instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:s.type,sdp:i}):s.sdp=i}return n.apply(this,arguments)}}function br(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function yr(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let s=arguments[0]||{};if(typeof s!="object"||s.type&&s.sdp)return n.apply(this,arguments);if(s={type:s.type,sdp:s.sdp},!s.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":s.type="offer";break;default:s.type="answer";break}return s.sdp||s.type!=="offer"&&s.type!=="answer"?n.apply(this,[s]):(s.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>n.apply(this,[o]))})}const Df=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:ws,shimAddIceCandidateNullOrEmpty:br,shimConnectionState:Ds,shimMaxMessageSize:mr,shimParameterlessSetLocalDescription:yr,shimRTCIceCandidate:gr,shimRTCIceCandidateRelayProtocol:Os,shimSendThrowTypeError:_r},Symbol.toStringTag,{value:"Module"}));function wf({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=Va,r=Ef(t),s={browserDetails:r,commonShim:Df,extractVersion:dr,disableLog:Tf,disableWarnings:Rf,sdp:Of};switch(r.browser){case"chrome":if(!lo||!As||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),s;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),s;n("adapter.js shimming chrome."),s.browserShim=lo,br(t,r),yr(t),Ya(t,r),Ka(t),As(t,r),qa(t),Qa(t,r),Ja(t),Za(t),ec(t,r),gr(t),Os(t),Ds(t),mr(t,r),_r(t),ws(t,r);break;case"firefox":if(!uo||!Is||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),s;n("adapter.js shimming firefox."),s.browserShim=uo,br(t,r),yr(t),tc(t,r),Is(t,r),nc(t),ic(t),rc(t),sc(t),oc(t),ac(t),cc(t),lc(t),uc(t),gr(t),Ds(t),mr(t,r),_r(t);break;case"safari":if(!fo||!e.shimSafari)return n("Safari shim is not included in this adapter release."),s;n("adapter.js shimming safari."),s.browserShim=fo,br(t,r),yr(t),mc(t),bc(t),hc(t),fc(t),pc(t),_c(t),dc(t),yc(t),gr(t),Os(t),mr(t,r),_r(t),ws(t,r);break;default:n("Unsupported browser!");break}return s}const ho=wf({window:typeof window>"u"?void 0:window});function Jt(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}class vc{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const n=[],r=e.byteLength,s=Math.ceil(r/this.chunkedMTU);let i=0,o=0;for(;o<r;){const a=Math.min(r,o+this.chunkedMTU),c=e.slice(o,a),u={__peerData:this._dataCount,n:i,data:c,total:s};n.push(u),o=a,i++}return this._dataCount++,n}}}function Mf(t){let e=0;for(const s of t)e+=s.byteLength;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.byteLength;return n}const as=ho.default||ho,Cn=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const t=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(t)?t==="chrome"?e>=this.minChromeVersion:t==="firefox"?e>=this.minFirefoxVersion:t==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return as.browserDetails.browser}getVersion(){return as.browserDetails.version||0}isUnifiedPlanSupported(){const t=this.getBrowser(),e=as.browserDetails.version||0;if(t==="chrome"&&e<this.minChromeVersion)return!1;if(t==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,r=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),r=!0}catch{}finally{n&&n.close()}return r}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},Lf=t=>!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t),Cc=()=>Math.random().toString(36).slice(2),go={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class $f extends vc{noop(){}blobToArrayBuffer(e,n){const r=new FileReader;return r.onload=function(s){s.target&&n(s.target.result)},r.readAsArrayBuffer(e),r}binaryStringToArrayBuffer(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=go,this.browser=Cn.getBrowser(),this.browserVersion=Cn.getVersion(),this.pack=za,this.unpack=Ba,this.supports=function(){const n={browser:Cn.isBrowserSupported(),webRTC:Cn.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let r;try{r=new RTCPeerConnection(go),n.audioVideo=!0;let s;try{s=r.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!s.ordered;try{s.binaryType="blob",n.binaryBlob=!Cn.isIOS}catch{}}catch{}finally{s&&s.close()}}catch{}finally{r&&r.close()}return n}(),this.validateId=Lf,this.randomToken=Cc}}const Ge=new $f,Nf="PeerJS: ";var mo;(function(t){t[t.Disabled=0]="Disabled",t[t.Errors=1]="Errors",t[t.Warnings=2]="Warnings",t[t.All=3]="All"})(mo||(mo={}));class jf{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...n){const r=[Nf,...n];for(const s in r)r[s]instanceof Error&&(r[s]="("+r[s].name+") "+r[s].message);e>=3?console.log(...r):e>=2?console.warn("WARNING",...r):e>=1&&console.error("ERROR",...r)}constructor(){this._logLevel=0}}var I=new jf,ai={},Ff=Object.prototype.hasOwnProperty,Fe="~";function Wn(){}Object.create&&(Wn.prototype=Object.create(null),new Wn().__proto__||(Fe=!1));function Uf(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function kc(t,e,n,r,s){if(typeof n!="function")throw new TypeError("The listener must be a function");var i=new Uf(n,r||t,s),o=Fe?Fe+e:e;return t._events[o]?t._events[o].fn?t._events[o]=[t._events[o],i]:t._events[o].push(i):(t._events[o]=i,t._eventsCount++),t}function xr(t,e){--t._eventsCount===0?t._events=new Wn:delete t._events[e]}function Ae(){this._events=new Wn,this._eventsCount=0}Ae.prototype.eventNames=function(){var e=[],n,r;if(this._eventsCount===0)return e;for(r in n=this._events)Ff.call(n,r)&&e.push(Fe?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(n)):e};Ae.prototype.listeners=function(e){var n=Fe?Fe+e:e,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,i=r.length,o=new Array(i);s<i;s++)o[s]=r[s].fn;return o};Ae.prototype.listenerCount=function(e){var n=Fe?Fe+e:e,r=this._events[n];return r?r.fn?1:r.length:0};Ae.prototype.emit=function(e,n,r,s,i,o){var a=Fe?Fe+e:e;if(!this._events[a])return!1;var c=this._events[a],u=arguments.length,l,f;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,n),!0;case 3:return c.fn.call(c.context,n,r),!0;case 4:return c.fn.call(c.context,n,r,s),!0;case 5:return c.fn.call(c.context,n,r,s,i),!0;case 6:return c.fn.call(c.context,n,r,s,i,o),!0}for(f=1,l=new Array(u-1);f<u;f++)l[f-1]=arguments[f];c.fn.apply(c.context,l)}else{var g=c.length,m;for(f=0;f<g;f++)switch(c[f].once&&this.removeListener(e,c[f].fn,void 0,!0),u){case 1:c[f].fn.call(c[f].context);break;case 2:c[f].fn.call(c[f].context,n);break;case 3:c[f].fn.call(c[f].context,n,r);break;case 4:c[f].fn.call(c[f].context,n,r,s);break;default:if(!l)for(m=1,l=new Array(u-1);m<u;m++)l[m-1]=arguments[m];c[f].fn.apply(c[f].context,l)}}return!0};Ae.prototype.on=function(e,n,r){return kc(this,e,n,r,!1)};Ae.prototype.once=function(e,n,r){return kc(this,e,n,r,!0)};Ae.prototype.removeListener=function(e,n,r,s){var i=Fe?Fe+e:e;if(!this._events[i])return this;if(!n)return xr(this,i),this;var o=this._events[i];if(o.fn)o.fn===n&&(!s||o.once)&&(!r||o.context===r)&&xr(this,i);else{for(var a=0,c=[],u=o.length;a<u;a++)(o[a].fn!==n||s&&!o[a].once||r&&o[a].context!==r)&&c.push(o[a]);c.length?this._events[i]=c.length===1?c[0]:c:xr(this,i)}return this};Ae.prototype.removeAllListeners=function(e){var n;return e?(n=Fe?Fe+e:e,this._events[n]&&xr(this,n)):(this._events=new Wn,this._eventsCount=0),this};Ae.prototype.off=Ae.prototype.removeListener;Ae.prototype.addListener=Ae.prototype.on;Ae.prefixed=Fe;Ae.EventEmitter=Ae;ai=Ae;var Zt={};Jt(Zt,"ConnectionType",()=>_t);Jt(Zt,"PeerErrorType",()=>ue);Jt(Zt,"BaseConnectionErrorType",()=>Yn);Jt(Zt,"DataConnectionErrorType",()=>Kn);Jt(Zt,"SerializationType",()=>mn);Jt(Zt,"SocketEventType",()=>gt);Jt(Zt,"ServerMessageType",()=>xe);var _t;(function(t){t.Data="data",t.Media="media"})(_t||(_t={}));var ue;(function(t){t.BrowserIncompatible="browser-incompatible",t.Disconnected="disconnected",t.InvalidID="invalid-id",t.InvalidKey="invalid-key",t.Network="network",t.PeerUnavailable="peer-unavailable",t.SslUnavailable="ssl-unavailable",t.ServerError="server-error",t.SocketError="socket-error",t.SocketClosed="socket-closed",t.UnavailableID="unavailable-id",t.WebRTC="webrtc"})(ue||(ue={}));var Yn;(function(t){t.NegotiationFailed="negotiation-failed",t.ConnectionClosed="connection-closed"})(Yn||(Yn={}));var Kn;(function(t){t.NotOpenYet="not-open-yet",t.MessageToBig="message-too-big"})(Kn||(Kn={}));var mn;(function(t){t.Binary="binary",t.BinaryUTF8="binary-utf8",t.JSON="json",t.None="raw"})(mn||(mn={}));var gt;(function(t){t.Message="message",t.Disconnected="disconnected",t.Error="error",t.Close="close"})(gt||(gt={}));var xe;(function(t){t.Heartbeat="HEARTBEAT",t.Candidate="CANDIDATE",t.Offer="OFFER",t.Answer="ANSWER",t.Open="OPEN",t.Error="ERROR",t.IdTaken="ID-TAKEN",t.InvalidKey="INVALID-KEY",t.Leave="LEAVE",t.Expire="EXPIRE"})(xe||(xe={}));var ci={};ci=JSON.parse('{"name":"peerjs","version":"1.5.4","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Soren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.1.0","webrtc-adapter":"^9.0.0"},"alias":{"process":false,"buffer":false}}');class Bf extends ai.EventEmitter{constructor(e,n,r,s,i,o=5e3){super(),this.pingInterval=o,this._disconnected=!0,this._messagesQueue=[];const a=e?"wss://":"ws://";this._baseUrl=a+n+":"+r+s+"peerjs?key="+i}start(e,n){this._id=e;const r=`${this._baseUrl}&id=${e}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(r+"&version="+ci.version),this._disconnected=!1,this._socket.onmessage=s=>{let i;try{i=JSON.parse(s.data),I.log("Server message received:",i)}catch{I.log("Invalid server message",s.data);return}this.emit(gt.Message,i)},this._socket.onclose=s=>{this._disconnected||(I.log("Socket closed.",s),this._cleanup(),this._disconnected=!0,this.emit(gt.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),I.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){I.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:xe.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const n of e)this.send(n)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(gt.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(e);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class Sc{constructor(e){this.connection=e}startConnection(e){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===_t.Media&&e._stream&&this._addTracksToConnection(e._stream,n),e.originator){const r=this.connection,s={ordered:!!e.reliable},i=n.createDataChannel(r.label,s);r._initializeDataChannel(i),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){I.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const n=this.connection.peer,r=this.connection.connectionId,s=this.connection.type,i=this.connection.provider;I.log("Listening for ICE candidates."),e.onicecandidate=o=>{!o.candidate||!o.candidate.candidate||(I.log(`Received ICE candidates for ${n}:`,o.candidate),i.socket.send({type:xe.Candidate,payload:{candidate:o.candidate,type:s,connectionId:r},dst:n}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":I.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(Yn.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":I.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(Yn.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":I.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},I.log("Listening for data channel"),e.ondatachannel=o=>{I.log("Received data channel");const a=o.channel;i.getConnection(n,r)._initializeDataChannel(a)},I.log("Listening for remote stream"),e.ontrack=o=>{I.log("Received remote stream");const a=o.streams[0],c=i.getConnection(n,r);if(c.type===_t.Media){const u=c;this._addStreamToMediaConnection(a,u)}}}cleanup(){I.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const n=e.signalingState!=="closed";let r=!1;const s=this.connection.dataChannel;s&&(r=!!s.readyState&&s.readyState!=="closed"),(n||r)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const r=await e.createOffer(this.connection.options.constraints);I.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await e.setLocalDescription(r),I.log("Set localDescription:",r,`for:${this.connection.peer}`);let s={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===_t.Data){const i=this.connection;s={...s,label:i.label,reliable:i.reliable,serialization:i.serialization}}n.socket.send({type:xe.Offer,payload:s,dst:this.connection.peer})}catch(s){s!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(ue.WebRTC,s),I.log("Failed to setLocalDescription, ",s))}}catch(r){n.emitError(ue.WebRTC,r),I.log("Failed to createOffer, ",r)}}async _makeAnswer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const r=await e.createAnswer();I.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await e.setLocalDescription(r),I.log("Set localDescription:",r,`for:${this.connection.peer}`),n.socket.send({type:xe.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(s){n.emitError(ue.WebRTC,s),I.log("Failed to setLocalDescription, ",s)}}catch(r){n.emitError(ue.WebRTC,r),I.log("Failed to create answer, ",r)}}async handleSDP(e,n){n=new RTCSessionDescription(n);const r=this.connection.peerConnection,s=this.connection.provider;I.log("Setting remote description",n);const i=this;try{await r.setRemoteDescription(n),I.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await i._makeAnswer()}catch(o){s.emitError(ue.WebRTC,o),I.log("Failed to setRemoteDescription, ",o)}}async handleCandidate(e){I.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),I.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(ue.WebRTC,n),I.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(e,n){if(I.log(`add tracks from stream ${e.id} to peer connection`),!n.addTrack)return I.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(r=>{n.addTrack(r,e)})}_addStreamToMediaConnection(e,n){I.log(`add stream ${e.id} to media connection ${n.connectionId}`),n.addStream(e)}}class Tc extends ai.EventEmitter{emitError(e,n){I.error("Error:",n),this.emit("error",new zf(`${e}`,n))}}class zf extends Error{constructor(e,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=e}}class Rc extends Tc{get open(){return this._open}constructor(e,n,r){super(),this.peer=e,this.provider=n,this.options=r,this._open=!1,this.metadata=r.metadata}}var js;const Fn=class Fn extends Rc{get type(){return _t.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,n,r){super(e,n,r),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Fn.ID_PREFIX+Ge.randomToken(),this._negotiator=new Sc(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{I.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{I.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){I.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const n=e.type,r=e.payload;switch(e.type){case xe.Answer:this._negotiator.handleSDP(n,r.sdp),this._open=!0;break;case xe.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:I.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(e,n={}){if(this._localStream){I.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const r=this.provider._getMessages(this.connectionId);for(const s of r)this.handleMessage(s);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};js=new WeakMap,yn(Fn,js,Fn.ID_PREFIX="mc_");let Pr=Fn;class Hf{constructor(e){this._options=e}_buildRequest(e){const n=this._options.secure?"https":"http",{host:r,port:s,path:i,key:o}=this._options,a=new URL(`${n}://${r}:${s}${i}${o}/${e}`);return a.searchParams.set("ts",`${Date.now()}${Math.random()}`),a.searchParams.set("version",ci.version),fetch(a.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){I.error("Error retrieving ID",e);let n="";throw this._options.path==="/"&&this._options.host!==Ge.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let n="";throw this._options.host===Ge.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw I.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}var Fs,Us;const Gt=class Gt extends Rc{get type(){return _t.Data}constructor(e,n,r){super(e,n,r),this.connectionId=this.options.connectionId||Gt.ID_PREFIX+Cc(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new Sc(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{I.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{I.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{I.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,n=!1){if(!this.open){this.emitError(Kn.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,n)}async handleMessage(e){const n=e.payload;switch(e.type){case xe.Answer:await this._negotiator.handleSDP(e.type,n.sdp);break;case xe.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:I.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}};Fs=new WeakMap,Us=new WeakMap,yn(Gt,Fs,Gt.ID_PREFIX="dc_"),yn(Gt,Us,Gt.MAX_BUFFERED_AMOUNT=8388608);let Ar=Gt;class li extends Ar{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>Ar.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(n){return I.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class cs extends li{close(e){super.close(e),this._chunkedData={}}constructor(e,n,r){super(e,n,r),this.chunker=new vc,this.serialization=mn.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const n=Ba(e),r=n.__peerData;if(r){if(r.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(e){const n=e.__peerData,r=this._chunkedData[n]||{data:[],count:0,total:e.total};if(r.data[e.n]=new Uint8Array(e.data),r.count++,this._chunkedData[n]=r,r.total===r.count){delete this._chunkedData[n];const s=Mf(r.data);this._handleDataMessage({data:s})}}_send(e,n){const r=za(e);if(r instanceof Promise)return this._send_blob(r);if(!n&&r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}async _send_blob(e){const n=await e;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(e){const n=this.chunker.chunk(e);I.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const r of n)this.send(r,!0)}}class Gf extends li{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,n){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=mn.None}}class Vf extends li{_handleDataMessage({data:e}){const n=this.parse(this.decoder.decode(e)),r=n.__peerData;if(r&&r.type==="close"){this.close();return}this.emit("data",n)}_send(e,n){const r=this.encoder.encode(this.stringify(e));if(r.byteLength>=Ge.chunkedMTU){this.emitError(Kn.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(r)}constructor(...e){super(...e),this.serialization=mn.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var Bs;const Un=class Un extends Tc{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[n,r]of this._connections)e[n]=r;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,n){super(),this._serializers={raw:Gf,json:Vf,binary:cs,"binary-utf8":cs,default:cs},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let r;if(e&&e.constructor==Object?n=e:e&&(r=e.toString()),n={debug:0,host:Ge.CLOUD_HOST,port:Ge.CLOUD_PORT,path:"/",key:Un.DEFAULT_KEY,token:Ge.randomToken(),config:Ge.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Ge.CLOUD_HOST?this._options.secure=Ge.isSecure():this._options.host==Ge.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&I.setLogFunction(this._options.logFunction),I.logLevel=this._options.debug||0,this._api=new Hf(n),this._socket=this._createServerConnection(),!Ge.supports.audioVideo&&!Ge.supports.data){this._delayedAbort(ue.BrowserIncompatible,"The current browser does not support WebRTC");return}if(r&&!Ge.validateId(r)){this._delayedAbort(ue.InvalidID,`ID "${r}" is invalid`);return}r?this._initialize(r):this._api.retrieveId().then(s=>this._initialize(s)).catch(s=>this._abort(ue.ServerError,s))}_createServerConnection(){const e=new Bf(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(gt.Message,n=>{this._handleMessage(n)}),e.on(gt.Error,n=>{this._abort(ue.SocketError,n)}),e.on(gt.Disconnected,()=>{this.disconnected||(this.emitError(ue.Network,"Lost connection to server."),this.disconnect())}),e.on(gt.Close,()=>{this.disconnected||this._abort(ue.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const n=e.type,r=e.payload,s=e.src;switch(n){case xe.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case xe.Error:this._abort(ue.ServerError,r.msg);break;case xe.IdTaken:this._abort(ue.UnavailableID,`ID "${this.id}" is taken`);break;case xe.InvalidKey:this._abort(ue.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case xe.Leave:I.log(`Received leave message from ${s}`),this._cleanupPeer(s),this._connections.delete(s);break;case xe.Expire:this.emitError(ue.PeerUnavailable,`Could not connect to peer ${s}`);break;case xe.Offer:{const i=r.connectionId;let o=this.getConnection(s,i);if(o&&(o.close(),I.warn(`Offer received for existing Connection ID:${i}`)),r.type===_t.Media){const c=new Pr(s,this,{connectionId:i,_payload:r,metadata:r.metadata});o=c,this._addConnection(s,o),this.emit("call",c)}else if(r.type===_t.Data){const c=new this._serializers[r.serialization](s,this,{connectionId:i,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});o=c,this._addConnection(s,o),this.emit("connection",c)}else{I.warn(`Received malformed connection type:${r.type}`);return}const a=this._getMessages(i);for(const c of a)o.handleMessage(c);break}default:{if(!r){I.warn(`You received a malformed message from ${s} of type ${n}`);return}const i=r.connectionId,o=this.getConnection(s,i);o&&o.peerConnection?o.handleMessage(e):i?this._storeMessage(i,e):I.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,n){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(n)}_getMessages(e){const n=this._lostMessages.get(e);return n?(this._lostMessages.delete(e),n):[]}connect(e,n={}){if(n={serialization:"default",...n},this.disconnected){I.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(ue.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const r=new this._serializers[n.serialization](e,this,n);return this._addConnection(e,r),r}call(e,n,r={}){if(this.disconnected){I.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(ue.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){I.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const s=new Pr(e,this,{...r,_stream:n});return this._addConnection(e,s),s}_addConnection(e,n){I.log(`add connection ${n.type}:${n.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(n)}_removeConnection(e){const n=this._connections.get(e.peer);if(n){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,n){const r=this._connections.get(e);if(!r)return null;for(const s of r)if(s.connectionId===n)return s;return null}_delayedAbort(e,n){setTimeout(()=>{this._abort(e,n)},0)}_abort(e,n){I.error("Aborting!"),this.emitError(e,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(I.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const n=this._connections.get(e);if(n)for(const r of n)r.close()}disconnect(){if(this.disconnected)return;const e=this.id;I.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)I.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)I.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=n=>{}){this._api.listAllPeers().then(n=>e(n)).catch(n=>this._abort(ue.ServerError,n))}};Bs=new WeakMap,yn(Un,Bs,Un.DEFAULT_KEY="peerjs");let Ms=Un;var _o=Ms;class Wf{constructor(e={}){this._peer=null,this._connections=new Map,this._eventListeners={data:[],connect:[],close:[]},this._roomId=null,this._user=e.user||{nickname:"Anonymous"},this._enableLogging=e.log||!1,this._options={config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun.l.google.com:5349"},{urls:"stun:stun1.l.google.com:3478"},{urls:"stun:stun1.l.google.com:5349"}]},debug:1},this._loadPromiseResolve=null,this._loadPromiseReject=null,this._loadPromise=new Promise((n,r)=>{this._loadPromiseResolve=n,this._loadPromiseReject=r})}_log(e,n){if(this._enableLogging){const r=JSON.stringify(this._user);n!==void 0?console.log(`[PeerConnectionManager][${r}] ${e}`,n):console.log(`[PeerConnectionManager][${r}] ${e}`)}}createRoom(){return new Promise((e,n)=>{this._peer&&this._peer.destroy(),this._log("Creating a new room..."),this._peer=new _o(void 0,this._options),this._peer.on("open",r=>{this._roomId=r,this._setupPeerListeners(),this._log("Room created successfully",r),this._loadPromiseResolve(),e(r)}),this._peer.on("error",r=>{this._log("Peer creation error:",r),console.error("Peer creation error:",r),this._loadPromiseReject(r),n(r)})})}joinRoom(e){return new Promise((n,r)=>{this._peer&&this._peer.destroy(),this._log(`Joining room: ${e}`),this._peer=new _o(void 0,this._options),this._peer.on("open",()=>{this._roomId=e;const s=this._peer.connect(e);s.on("open",()=>{this._setupConnectionListeners(s),this._connections.set(e,s),this._log(`Successfully joined room: ${e}`),this._loadPromiseResolve(),n()}),s.on("error",i=>{this._log("Connection error:",i),console.error("Connection error:",i),this._loadPromiseReject(i),r(i)})}),this._peer.on("error",s=>{this._log("Room join error:",s),console.error("Room join error:",s),this._loadPromiseReject(s),r(s)}),this._setupPeerListeners()})}async send(e){if(!this._peer)throw new Error("Not connected to a room");await this._loadPromise;const n={data:e,user:this._user};this._log("Sending data to all connections",n),this._connections.forEach(r=>{r.send(n)})}on(e,n){if(!this._eventListeners[e])throw new Error(`Unsupported event: ${e}`);this._log(`Registered listener for event: ${e}`),this._eventListeners[e].push(n)}close(){this._peer&&(this._log("Closing connections and cleaning up"),this._peer.destroy(),this._peer=null,this._connections.clear())}_setupPeerListeners(){this._peer.on("connection",e=>{this._log(`New incoming connection from: ${e.peer}`),this._setupConnectionListeners(e)})}_setupConnectionListeners(e){this._connections.set(e.peer,e),this._log(`Setting up listeners for connection: ${e.peer}`),e.on("data",n=>{const{data:r,user:s}=n;this._log(`Received data from ${e.peer}:`,n),this._eventListeners.data.forEach(i=>i(r,s,e.peer))}),e.on("open",()=>{this._log(`Connection opened with: ${e.peer}`),this._eventListeners.connect.forEach(n=>n(e.peer))}),e.on("close",()=>{this._log(`Connection closed with: ${e.peer}`),this._connections.delete(e.peer),this._eventListeners.close.forEach(n=>n(e.peer))})}getId(){return this._roomId}getUser(){return this._user}}const ce=new Wf({user:{name:"User "+Math.random().toString(36).substring(2,15)},log:!0}),Yf={class:"relative"},Kf={key:0,class:"aspect-video bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-gray-500 dark:text-gray-400 border border-gray-300 dark:border-gray-700 rounded"},qf={key:1,id:"youtube-player",class:"aspect-video transition-all duration-300 rounded overflow-hidden",style:{"box-shadow":`0px 0px 1px rgba(3, 7, 18, 0.02),
                    0px 1px 4px rgba(3, 7, 18, 0.03),
                    0px 2px 9px rgba(3, 7, 18, 0.05),
                    0px 4px 15px rgba(3, 7, 18, 0.06),
                    0px 6px 24px rgba(3, 7, 18, 0.08)`}},Jf={class:"flex flex-col mt-4 gap-3"},Zf={key:2,class:"mt-2 text-red-500 text-sm"},Xf={key:3,class:"mt-4"},Qf={class:"text-sm text-gray-600 dark:text-gray-400"},ep={class:"font-semibold"},tp={__name:"VideoSync",props:{roomId:{type:String,required:!0}},setup(t){const e=t,n=ye(""),r=ye(""),s=ye(""),i=ye(""),o=ye(!1),a=ye(null),c=ye(!1),u=ye(!1),l=ye(0),f=ye(0),g=ye(null);Jn(()=>{ce.on("data",C),ce.on("connect",M=>{s.value&&a.value&&c.value&&(console.log("Sending current video info to new peer:",M),ce.send({type:"video_info",videoId:s.value,currentTime:a.value.getCurrentTime(),playbackRate:a.value.getPlaybackRate(),paused:a.value.getPlayerState()!==YT.PlayerState.PLAYING}))}),window.onYouTubeIframeAPIReady=()=>{console.log("API Ready"),o.value=!0,s.value&&k(s.value)},m()}),pa(()=>{a.value&&a.value.destroy(),g.value&&clearInterval(g.value)});function m(){if(!document.getElementById("youtube-iframe-api")){const M=document.createElement("script");M.id="youtube-iframe-api",M.src="https://www.youtube.com/iframe_api";const U=document.getElementsByTagName("script")[0];U.parentNode.insertBefore(M,U)}}function C(M){switch(console.log("Got messsage: ",M.type,M),M.type){case"pause":u.value||(u.value=!0,a.value.pauseVideo(),setTimeout(()=>{u.value=!1},500));break;case"play":u.value||(u.value=!0,a.value.playVideo(),setTimeout(()=>{u.value=!1},500));break;case"seek":if(!u.value){u.value=!0;const U=a.value.getPlayerState()===YT.PlayerState.PAUSED;Math.abs(a.value.getCurrentTime()-M.time)>.5&&a.value.seekTo(M.time,!0),setTimeout(()=>{!U&&a.value.getState()!==YT.PlayerState.PLAYING&&a.value.playVideo()}),l.value=M.time,setTimeout(()=>{u.value=!1},500)}break;case"speedChange":u.value||(u.value=!0,a.value.setPlaybackRate(M.rate),setTimeout(()=>{u.value=!1},500));break;case"video_info":console.log("Received video info:",M.videoId),ge(M.videoId),o.value&&setTimeout(()=>{a.value&&c.value&&(ce.send({type:"speedChange",rate:M.playbackRate}),ce.send({type:"seek",time:M.currentTime}),M.paused?ce.send({type:"pause"}):ce.send({type:"play"}))},1e3);break;case"request_video_info":s.value&&a.value&&c.value&&(console.log("Sending requested video info to peers"),ce.send({type:"video_info",videoId:s.value,currentTime:a.value.getCurrentTime(),playbackRate:a.value.getPlaybackRate(),paused:a.value.getPlayerState()!==YT.PlayerState.PLAYING}));break}}function k(M){a.value&&a.value.destroy(),a.value=new YT.Player("youtube-player",{height:"360",width:"640",videoId:M,playerVars:{origin:window.location.origin,playsinline:1,modestbranding:1,rel:0},events:{onReady:z,onStateChange:V,onPlaybackRateChange:A,onError:K}})}function z(){c.value=!0,a.value&&a.value.getVideoData&&(i.value=a.value.getVideoData().title),e.roomId!==ce.getId()&&Y(),H()}function H(){g.value&&clearInterval(g.value),g.value=setInterval(()=>{if(!a.value||!c.value||u.value)return;const M=a.value.getCurrentTime();Math.abs(M-f.value)>1.5&&me(),f.value=M},1e3)}function Y(){ce.send({type:"request_video_info"})}function V(M){u.value||(M.data===YT.PlayerState.PLAYING?(ce.send({type:"play"}),me(),l.value=Date.now(),f.value=a.value.getCurrentTime()):M.data===YT.PlayerState.PAUSED?(ce.send({type:"pause"}),me()):(M.data,YT.PlayerState.BUFFERING))}function A(M){u.value||!a.value||!c.value||ce.send({type:"speedChange",rate:a.value.getPlaybackRate()})}function K(){r.value="Error loading video. Please try another URL.",s.value=""}function me(){u.value||!a.value||!c.value||ce.send({type:"seek",time:a.value.getCurrentTime()})}function de(){const M=Rt(n.value);if(!M){r.value="Invalid YouTube video ID or URL.";return}r.value="",ge(M),setTimeout(()=>{console.log("Broadcasting video info to all peers"),ce.send({type:"video_info",videoId:M,currentTime:0,playbackRate:1,paused:!0})},1e3),n.value=""}function ge(M){s.value=M,console.log("Loading video: ",M),o.value&&(console.log("Creating player"),setTimeout(()=>k(M),10))}function Rt(M){const U=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,ve=M.match(U);return ve?ve[1]:null}return(M,U)=>(Le(),Ve("div",Yf,[s.value?(Le(),Ve("div",qf)):(Le(),Ve("div",Kf,U[3]||(U[3]=[G("div",{class:"text-center p-4"},[G("div",{class:"mb-2 text-2xl"},""),G("p",null,"Paste a YouTube URL to start watching together")],-1)]))),G("div",Jf,[xs(G("input",{"onUpdate:modelValue":U[0]||(U[0]=ve=>n.value=ve),onInput:U[1]||(U[1]=(...ve)=>M.handleInput&&M.handleInput(...ve)),onPaste:U[2]||(U[2]=(...ve)=>M.handlePaste&&M.handlePaste(...ve)),onKeyup:Ua(de,["enter"]),placeholder:"Enter YouTube video ID or URL",class:"w-full p-2 border border-gray-300 dark:border-gray-700 rounded transition-all duration-300 focus:ring-2 focus:ring-teal-500 focus:border-teal-500 hover:shadow-md dark:bg-gray-800 dark:text-white"},null,544),[[Es,n.value]]),G("button",{onClick:de,class:"w-full px-4 py-2 bg-teal-500 hover:bg-teal-600 text-white rounded cursor-pointer focus:outline-none transition-all duration-300 dark:bg-teal-600 dark:hover:bg-teal-700"}," Watch ")]),r.value?(Le(),Ve("p",Zf,ln(r.value),1)):hn("",!0),s.value?(Le(),Ve("div",Xf,[G("div",Qf,[U[4]||(U[4]=$a(" Now playing: ")),G("span",ep,ln(i.value||"YouTube Video"),1)])])):hn("",!0)]))}};function ui(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Xt=ui();function Ec(t){Xt=t}const Nn={exec:()=>null};function Z(t,e=""){let n=typeof t=="string"?t:t.source;const r={replace:(s,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(Ne.caret,"$1"),n=n.replace(s,o),r},getRegex:()=>new RegExp(n,e)};return r}const Ne={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},np=/^(?:[ \t]*(?:\n|$))+/,rp=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,sp=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Xn=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,ip=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,fi=/(?:[*+-]|\d{1,9}[.)])/,Pc=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Ac=Z(Pc).replace(/bull/g,fi).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),op=Z(Pc).replace(/bull/g,fi).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),pi=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,ap=/^[^\n]+/,hi=/(?!\s*\])(?:\\.|[^\[\]\\])+/,cp=Z(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",hi).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),lp=Z(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,fi).getRegex(),Hr="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",di=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,up=Z("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",di).replace("tag",Hr).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ic=Z(pi).replace("hr",Xn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Hr).getRegex(),fp=Z(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ic).getRegex(),gi={blockquote:fp,code:rp,def:cp,fences:sp,heading:ip,hr:Xn,html:up,lheading:Ac,list:lp,newline:np,paragraph:Ic,table:Nn,text:ap},bo=Z("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Xn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Hr).getRegex(),pp={...gi,lheading:op,table:bo,paragraph:Z(pi).replace("hr",Xn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",bo).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Hr).getRegex()},hp={...gi,html:Z(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",di).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Nn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Z(pi).replace("hr",Xn).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ac).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},dp=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,gp=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Oc=/^( {2,}|\\)\n(?!\s*$)/,mp=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Gr=/[\p{P}\p{S}]/u,mi=/[\s\p{P}\p{S}]/u,Dc=/[^\s\p{P}\p{S}]/u,_p=Z(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,mi).getRegex(),wc=/(?!~)[\p{P}\p{S}]/u,bp=/(?!~)[\s\p{P}\p{S}]/u,yp=/(?:[^\s\p{P}\p{S}]|~)/u,xp=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Mc=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,vp=Z(Mc,"u").replace(/punct/g,Gr).getRegex(),Cp=Z(Mc,"u").replace(/punct/g,wc).getRegex(),Lc="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",kp=Z(Lc,"gu").replace(/notPunctSpace/g,Dc).replace(/punctSpace/g,mi).replace(/punct/g,Gr).getRegex(),Sp=Z(Lc,"gu").replace(/notPunctSpace/g,yp).replace(/punctSpace/g,bp).replace(/punct/g,wc).getRegex(),Tp=Z("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Dc).replace(/punctSpace/g,mi).replace(/punct/g,Gr).getRegex(),Rp=Z(/\\(punct)/,"gu").replace(/punct/g,Gr).getRegex(),Ep=Z(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Pp=Z(di).replace("(?:-->|$)","-->").getRegex(),Ap=Z("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Pp).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Ir=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ip=Z(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Ir).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),$c=Z(/^!?\[(label)\]\[(ref)\]/).replace("label",Ir).replace("ref",hi).getRegex(),Nc=Z(/^!?\[(ref)\](?:\[\])?/).replace("ref",hi).getRegex(),Op=Z("reflink|nolink(?!\\()","g").replace("reflink",$c).replace("nolink",Nc).getRegex(),_i={_backpedal:Nn,anyPunctuation:Rp,autolink:Ep,blockSkip:xp,br:Oc,code:gp,del:Nn,emStrongLDelim:vp,emStrongRDelimAst:kp,emStrongRDelimUnd:Tp,escape:dp,link:Ip,nolink:Nc,punctuation:_p,reflink:$c,reflinkSearch:Op,tag:Ap,text:mp,url:Nn},Dp={..._i,link:Z(/^!?\[(label)\]\((.*?)\)/).replace("label",Ir).getRegex(),reflink:Z(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ir).getRegex()},Ls={..._i,emStrongRDelimAst:Sp,emStrongLDelim:Cp,url:Z(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},wp={...Ls,br:Z(Oc).replace("{2,}","*").getRegex(),text:Z(Ls.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ar={normal:gi,gfm:pp,pedantic:hp},kn={normal:_i,gfm:Ls,breaks:wp,pedantic:Dp},Mp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},yo=t=>Mp[t];function ft(t,e){if(e){if(Ne.escapeTest.test(t))return t.replace(Ne.escapeReplace,yo)}else if(Ne.escapeTestNoEncode.test(t))return t.replace(Ne.escapeReplaceNoEncode,yo);return t}function xo(t){try{t=encodeURI(t).replace(Ne.percentDecode,"%")}catch{return null}return t}function vo(t,e){var i;const n=t.replace(Ne.findPipe,(o,a,c)=>{let u=!1,l=a;for(;--l>=0&&c[l]==="\\";)u=!u;return u?"|":" |"}),r=n.split(Ne.splitPipe);let s=0;if(r[0].trim()||r.shift(),r.length>0&&!((i=r.at(-1))!=null&&i.trim())&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(Ne.slashPipe,"|");return r}function Sn(t,e,n){const r=t.length;if(r===0)return"";let s=0;for(;s<r&&t.charAt(r-s-1)===e;)s++;return t.slice(0,r-s)}function Lp(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return-1}function Co(t,e,n,r,s){const i=e.href,o=e.title||null,a=t[1].replace(s.other.outputLinkReplace,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;const c={type:"link",raw:n,href:i,title:o,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,c}return{type:"image",raw:n,href:i,title:o,text:a}}function $p(t,e,n){const r=t.match(n.other.indentCodeCompensation);if(r===null)return e;const s=r[1];return e.split(`
`).map(i=>{const o=i.match(n.other.beginningSpace);if(o===null)return i;const[a]=o;return a.length>=s.length?i.slice(s.length):i}).join(`
`)}class Or{constructor(e){te(this,"options");te(this,"rules");te(this,"lexer");this.options=e||Xt}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Sn(r,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],s=$p(r,n[3]||"",this.rules);return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:s}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(this.rules.other.endingHash.test(r)){const s=Sn(r,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(r=s.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:Sn(n[0],`
`)}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){let r=Sn(n[0],`
`).split(`
`),s="",i="";const o=[];for(;r.length>0;){let a=!1;const c=[];let u;for(u=0;u<r.length;u++)if(this.rules.other.blockquoteStart.test(r[u]))c.push(r[u]),a=!0;else if(!a)c.push(r[u]);else break;r=r.slice(u);const l=c.join(`
`),f=l.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");s=s?`${s}
${l}`:l,i=i?`${i}
${f}`:f;const g=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(f,o,!0),this.lexer.state.top=g,r.length===0)break;const m=o.at(-1);if((m==null?void 0:m.type)==="code")break;if((m==null?void 0:m.type)==="blockquote"){const C=m,k=C.raw+`
`+r.join(`
`),z=this.blockquote(k);o[o.length-1]=z,s=s.substring(0,s.length-C.raw.length)+z.raw,i=i.substring(0,i.length-C.text.length)+z.text;break}else if((m==null?void 0:m.type)==="list"){const C=m,k=C.raw+`
`+r.join(`
`),z=this.list(k);o[o.length-1]=z,s=s.substring(0,s.length-m.raw.length)+z.raw,i=i.substring(0,i.length-C.raw.length)+z.raw,r=k.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:o,text:i}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim();const s=r.length>1,i={type:"list",raw:"",ordered:s,start:s?+r.slice(0,-1):"",loose:!1,items:[]};r=s?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=s?r:"[*+-]");const o=this.rules.other.listItemRegex(r);let a=!1;for(;e;){let u=!1,l="",f="";if(!(n=o.exec(e))||this.rules.block.hr.test(e))break;l=n[0],e=e.substring(l.length);let g=n[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,Y=>" ".repeat(3*Y.length)),m=e.split(`
`,1)[0],C=!g.trim(),k=0;if(this.options.pedantic?(k=2,f=g.trimStart()):C?k=n[1].length+1:(k=n[2].search(this.rules.other.nonSpaceChar),k=k>4?1:k,f=g.slice(k),k+=n[1].length),C&&this.rules.other.blankLine.test(m)&&(l+=m+`
`,e=e.substring(m.length+1),u=!0),!u){const Y=this.rules.other.nextBulletRegex(k),V=this.rules.other.hrRegex(k),A=this.rules.other.fencesBeginRegex(k),K=this.rules.other.headingBeginRegex(k),me=this.rules.other.htmlBeginRegex(k);for(;e;){const de=e.split(`
`,1)[0];let ge;if(m=de,this.options.pedantic?(m=m.replace(this.rules.other.listReplaceNesting,"  "),ge=m):ge=m.replace(this.rules.other.tabCharGlobal,"    "),A.test(m)||K.test(m)||me.test(m)||Y.test(m)||V.test(m))break;if(ge.search(this.rules.other.nonSpaceChar)>=k||!m.trim())f+=`
`+ge.slice(k);else{if(C||g.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||A.test(g)||K.test(g)||V.test(g))break;f+=`
`+m}!C&&!m.trim()&&(C=!0),l+=de+`
`,e=e.substring(de.length+1),g=ge.slice(k)}}i.loose||(a?i.loose=!0:this.rules.other.doubleBlankLine.test(l)&&(a=!0));let z=null,H;this.options.gfm&&(z=this.rules.other.listIsTask.exec(f),z&&(H=z[0]!=="[ ] ",f=f.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:l,task:!!z,checked:H,loose:!1,text:f,tokens:[]}),i.raw+=l}const c=i.items.at(-1);if(c)c.raw=c.raw.trimEnd(),c.text=c.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let u=0;u<i.items.length;u++)if(this.lexer.state.top=!1,i.items[u].tokens=this.lexer.blockTokens(i.items[u].text,[]),!i.loose){const l=i.items[u].tokens.filter(g=>g.type==="space"),f=l.length>0&&l.some(g=>this.rules.other.anyLine.test(g.raw));i.loose=f}if(i.loose)for(let u=0;u<i.items.length;u++)i.items[u].loose=!0;return i}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){const n=this.rules.block.def.exec(e);if(n){const r=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:s,title:i}}}table(e){var a;const n=this.rules.block.table.exec(e);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;const r=vo(n[1]),s=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=(a=n[3])!=null&&a.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===s.length){for(const c of s)this.rules.other.tableAlignRight.test(c)?o.align.push("right"):this.rules.other.tableAlignCenter.test(c)?o.align.push("center"):this.rules.other.tableAlignLeft.test(c)?o.align.push("left"):o.align.push(null);for(let c=0;c<r.length;c++)o.header.push({text:r[c],tokens:this.lexer.inline(r[c]),header:!0,align:o.align[c]});for(const c of i)o.rows.push(vo(c,o.header.length).map((u,l)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:o.align[l]})));return o}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;const o=Sn(r.slice(0,-1),"\\");if((r.length-o.length)%2===0)return}else{const o=Lp(n[2],"()");if(o>-1){const c=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,c).trim(),n[3]=""}}let s=n[2],i="";if(this.options.pedantic){const o=this.rules.other.pedanticHrefTitle.exec(s);o&&(s=o[1],i=o[3])}else i=n[3]?n[3].slice(1,-1):"";return s=s.trim(),this.rules.other.startAngleBracket.test(s)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?s=s.slice(1):s=s.slice(1,-1)),Co(n,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const s=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=n[s.toLowerCase()];if(!i){const o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return Co(r,i,r[0],this.lexer,this.rules)}}emStrong(e,n,r=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(!s||s[3]&&r.match(this.rules.other.unicodeAlphaNumeric))return;if(!(s[1]||s[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const o=[...s[0]].length-1;let a,c,u=o,l=0;const f=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,n=n.slice(-1*e.length+o);(s=f.exec(n))!=null;){if(a=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!a)continue;if(c=[...a].length,s[3]||s[4]){u+=c;continue}else if((s[5]||s[6])&&o%3&&!((o+c)%3)){l+=c;continue}if(u-=c,u>0)continue;c=Math.min(c,c+u+l);const g=[...s[0]][0].length,m=e.slice(0,o+s.index+g+c);if(Math.min(o,c)%2){const k=m.slice(1,-1);return{type:"em",raw:m,text:k,tokens:this.lexer.inlineTokens(k)}}const C=m.slice(2,-2);return{type:"strong",raw:m,text:C,tokens:this.lexer.inlineTokens(C)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(this.rules.other.newLineCharGlobal," ");const s=this.rules.other.nonSpaceChar.test(r),i=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return s&&i&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let r,s;return n[2]==="@"?(r=n[1],s="mailto:"+r):(r=n[1],s=r),{type:"link",raw:n[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}url(e){var r;let n;if(n=this.rules.inline.url.exec(e)){let s,i;if(n[2]==="@")s=n[0],i="mailto:"+s;else{let o;do o=n[0],n[0]=((r=this.rules.inline._backpedal.exec(n[0]))==null?void 0:r[0])??"";while(o!==n[0]);s=n[0],n[1]==="www."?i="http://"+n[0]:i=n[0]}return{type:"link",raw:n[0],text:s,href:i,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){const r=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:r}}}}class Qe{constructor(e){te(this,"tokens");te(this,"options");te(this,"state");te(this,"tokenizer");te(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Xt,this.options.tokenizer=this.options.tokenizer||new Or,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={other:Ne,block:ar.normal,inline:kn.normal};this.options.pedantic?(n.block=ar.pedantic,n.inline=kn.pedantic):this.options.gfm&&(n.block=ar.gfm,this.options.breaks?n.inline=kn.breaks:n.inline=kn.gfm),this.tokenizer.rules=n}static get rules(){return{block:ar,inline:kn}}static lex(e,n){return new Qe(n).lex(e)}static lexInline(e,n){return new Qe(n).inlineTokens(e)}lex(e){e=e.replace(Ne.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){var s,i,o;for(this.options.pedantic&&(e=e.replace(Ne.tabCharGlobal,"    ").replace(Ne.spaceLine,""));e;){let a;if((i=(s=this.options.extensions)==null?void 0:s.block)!=null&&i.some(u=>(a=u.call({lexer:this},e,n))?(e=e.substring(a.raw.length),n.push(a),!0):!1))continue;if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length);const u=n.at(-1);a.raw.length===1&&u!==void 0?u.raw+=`
`:n.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length);const u=n.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=`
`+a.raw,u.text+=`
`+a.text,this.inlineQueue.at(-1).src=u.text):n.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length);const u=n.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=`
`+a.raw,u.text+=`
`+a.raw,this.inlineQueue.at(-1).src=u.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title});continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),n.push(a);continue}let c=e;if((o=this.options.extensions)!=null&&o.startBlock){let u=1/0;const l=e.slice(1);let f;this.options.extensions.startBlock.forEach(g=>{f=g.call({lexer:this},l),typeof f=="number"&&f>=0&&(u=Math.min(u,f))}),u<1/0&&u>=0&&(c=e.substring(0,u+1))}if(this.state.top&&(a=this.tokenizer.paragraph(c))){const u=n.at(-1);r&&(u==null?void 0:u.type)==="paragraph"?(u.raw+=`
`+a.raw,u.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):n.push(a),r=c.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length);const u=n.at(-1);(u==null?void 0:u.type)==="text"?(u.raw+=`
`+a.raw,u.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):n.push(a);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){var a,c,u;let r=e,s=null;if(this.tokens.links){const l=Object.keys(this.tokens.links);if(l.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)l.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,s.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i=!1,o="";for(;e;){i||(o=""),i=!1;let l;if((c=(a=this.options.extensions)==null?void 0:a.inline)!=null&&c.some(g=>(l=g.call({lexer:this},e,n))?(e=e.substring(l.raw.length),n.push(l),!0):!1))continue;if(l=this.tokenizer.escape(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.tag(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.link(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(l.raw.length);const g=n.at(-1);l.type==="text"&&(g==null?void 0:g.type)==="text"?(g.raw+=l.raw,g.text+=l.text):n.push(l);continue}if(l=this.tokenizer.emStrong(e,r,o)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.codespan(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.br(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.del(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.autolink(e)){e=e.substring(l.raw.length),n.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(e))){e=e.substring(l.raw.length),n.push(l);continue}let f=e;if((u=this.options.extensions)!=null&&u.startInline){let g=1/0;const m=e.slice(1);let C;this.options.extensions.startInline.forEach(k=>{C=k.call({lexer:this},m),typeof C=="number"&&C>=0&&(g=Math.min(g,C))}),g<1/0&&g>=0&&(f=e.substring(0,g+1))}if(l=this.tokenizer.inlineText(f)){e=e.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(o=l.raw.slice(-1)),i=!0;const g=n.at(-1);(g==null?void 0:g.type)==="text"?(g.raw+=l.raw,g.text+=l.text):n.push(l);continue}if(e){const g="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(g);break}else throw new Error(g)}}return n}}class Dr{constructor(e){te(this,"options");te(this,"parser");this.options=e||Xt}space(e){return""}code({text:e,lang:n,escaped:r}){var o;const s=(o=(n||"").match(Ne.notSpaceStart))==null?void 0:o[0],i=e.replace(Ne.endingNewline,"")+`
`;return s?'<pre><code class="language-'+ft(s)+'">'+(r?i:ft(i,!0))+`</code></pre>
`:"<pre><code>"+(r?i:ft(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){const n=e.ordered,r=e.start;let s="";for(let a=0;a<e.items.length;a++){const c=e.items[a];s+=this.listitem(c)}const i=n?"ol":"ul",o=n&&r!==1?' start="'+r+'"':"";return"<"+i+o+`>
`+s+"</"+i+`>
`}listitem(e){var r;let n="";if(e.task){const s=this.checkbox({checked:!!e.checked});e.loose?((r=e.tokens[0])==null?void 0:r.type)==="paragraph"?(e.tokens[0].text=s+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=s+" "+ft(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:s+" ",text:s+" ",escaped:!0}):n+=s+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",r="";for(let i=0;i<e.header.length;i++)r+=this.tablecell(e.header[i]);n+=this.tablerow({text:r});let s="";for(let i=0;i<e.rows.length;i++){const o=e.rows[i];r="";for(let a=0;a<o.length;a++)r+=this.tablecell(o[a]);s+=this.tablerow({text:r})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+s+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const n=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${ft(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:r}){const s=this.parser.parseInline(r),i=xo(e);if(i===null)return s;e=i;let o='<a href="'+e+'"';return n&&(o+=' title="'+ft(n)+'"'),o+=">"+s+"</a>",o}image({href:e,title:n,text:r}){const s=xo(e);if(s===null)return ft(r);e=s;let i=`<img src="${e}" alt="${r}"`;return n&&(i+=` title="${ft(n)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:ft(e.text)}}class bi{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class et{constructor(e){te(this,"options");te(this,"renderer");te(this,"textRenderer");this.options=e||Xt,this.options.renderer=this.options.renderer||new Dr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new bi}static parse(e,n){return new et(n).parse(e)}static parseInline(e,n){return new et(n).parseInline(e)}parse(e,n=!0){var s,i;let r="";for(let o=0;o<e.length;o++){const a=e[o];if((i=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&i[a.type]){const u=a,l=this.options.extensions.renderers[u.type].call({parser:this},u);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)){r+=l||"";continue}}const c=a;switch(c.type){case"space":{r+=this.renderer.space(c);continue}case"hr":{r+=this.renderer.hr(c);continue}case"heading":{r+=this.renderer.heading(c);continue}case"code":{r+=this.renderer.code(c);continue}case"table":{r+=this.renderer.table(c);continue}case"blockquote":{r+=this.renderer.blockquote(c);continue}case"list":{r+=this.renderer.list(c);continue}case"html":{r+=this.renderer.html(c);continue}case"paragraph":{r+=this.renderer.paragraph(c);continue}case"text":{let u=c,l=this.renderer.text(u);for(;o+1<e.length&&e[o+1].type==="text";)u=e[++o],l+=`
`+this.renderer.text(u);n?r+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):r+=l;continue}default:{const u='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return r}parseInline(e,n=this.renderer){var s,i;let r="";for(let o=0;o<e.length;o++){const a=e[o];if((i=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&i[a.type]){const u=this.options.extensions.renderers[a.type].call({parser:this},a);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){r+=u||"";continue}}const c=a;switch(c.type){case"escape":{r+=n.text(c);break}case"html":{r+=n.html(c);break}case"link":{r+=n.link(c);break}case"image":{r+=n.image(c);break}case"strong":{r+=n.strong(c);break}case"em":{r+=n.em(c);break}case"codespan":{r+=n.codespan(c);break}case"br":{r+=n.br(c);break}case"del":{r+=n.del(c);break}case"text":{r+=n.text(c);break}default:{const u='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return r}}class jn{constructor(e){te(this,"options");te(this,"block");this.options=e||Xt}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Qe.lex:Qe.lexInline}provideParser(){return this.block?et.parse:et.parseInline}}te(jn,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class Np{constructor(...e){te(this,"defaults",ui());te(this,"options",this.setOptions);te(this,"parse",this.parseMarkdown(!0));te(this,"parseInline",this.parseMarkdown(!1));te(this,"Parser",et);te(this,"Renderer",Dr);te(this,"TextRenderer",bi);te(this,"Lexer",Qe);te(this,"Tokenizer",Or);te(this,"Hooks",jn);this.use(...e)}walkTokens(e,n){var s,i;let r=[];for(const o of e)switch(r=r.concat(n.call(this,o)),o.type){case"table":{const a=o;for(const c of a.header)r=r.concat(this.walkTokens(c.tokens,n));for(const c of a.rows)for(const u of c)r=r.concat(this.walkTokens(u.tokens,n));break}case"list":{const a=o;r=r.concat(this.walkTokens(a.items,n));break}default:{const a=o;(i=(s=this.defaults.extensions)==null?void 0:s.childTokens)!=null&&i[a.type]?this.defaults.extensions.childTokens[a.type].forEach(c=>{const u=a[c].flat(1/0);r=r.concat(this.walkTokens(u,n))}):a.tokens&&(r=r.concat(this.walkTokens(a.tokens,n)))}}return r}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const s={...r};if(s.async=this.defaults.async||s.async||!1,r.extensions&&(r.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const o=n.renderers[i.name];o?n.renderers[i.name]=function(...a){let c=i.renderer.apply(this,a);return c===!1&&(c=o.apply(this,a)),c}:n.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=n[i.level];o?o.unshift(i.tokenizer):n[i.level]=[i.tokenizer],i.start&&(i.level==="block"?n.startBlock?n.startBlock.push(i.start):n.startBlock=[i.start]:i.level==="inline"&&(n.startInline?n.startInline.push(i.start):n.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(n.childTokens[i.name]=i.childTokens)}),s.extensions=n),r.renderer){const i=this.defaults.renderer||new Dr(this.defaults);for(const o in r.renderer){if(!(o in i))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;const a=o,c=r.renderer[a],u=i[a];i[a]=(...l)=>{let f=c.apply(i,l);return f===!1&&(f=u.apply(i,l)),f||""}}s.renderer=i}if(r.tokenizer){const i=this.defaults.tokenizer||new Or(this.defaults);for(const o in r.tokenizer){if(!(o in i))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const a=o,c=r.tokenizer[a],u=i[a];i[a]=(...l)=>{let f=c.apply(i,l);return f===!1&&(f=u.apply(i,l)),f}}s.tokenizer=i}if(r.hooks){const i=this.defaults.hooks||new jn;for(const o in r.hooks){if(!(o in i))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;const a=o,c=r.hooks[a],u=i[a];jn.passThroughHooks.has(o)?i[a]=l=>{if(this.defaults.async)return Promise.resolve(c.call(i,l)).then(g=>u.call(i,g));const f=c.call(i,l);return u.call(i,f)}:i[a]=(...l)=>{let f=c.apply(i,l);return f===!1&&(f=u.apply(i,l)),f}}s.hooks=i}if(r.walkTokens){const i=this.defaults.walkTokens,o=r.walkTokens;s.walkTokens=function(a){let c=[];return c.push(o.call(this,a)),i&&(c=c.concat(i.call(this,a))),c}}this.defaults={...this.defaults,...s}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return Qe.lex(e,n??this.defaults)}parser(e,n){return et.parse(e,n??this.defaults)}parseMarkdown(e){return(r,s)=>{const i={...s},o={...this.defaults,...i},a=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);const c=o.hooks?o.hooks.provideLexer():e?Qe.lex:Qe.lexInline,u=o.hooks?o.hooks.provideParser():e?et.parse:et.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(r):r).then(l=>c(l,o)).then(l=>o.hooks?o.hooks.processAllTokens(l):l).then(l=>o.walkTokens?Promise.all(this.walkTokens(l,o.walkTokens)).then(()=>l):l).then(l=>u(l,o)).then(l=>o.hooks?o.hooks.postprocess(l):l).catch(a);try{o.hooks&&(r=o.hooks.preprocess(r));let l=c(r,o);o.hooks&&(l=o.hooks.processAllTokens(l)),o.walkTokens&&this.walkTokens(l,o.walkTokens);let f=u(l,o);return o.hooks&&(f=o.hooks.postprocess(f)),f}catch(l){return a(l)}}}onError(e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const s="<p>An error occurred:</p><pre>"+ft(r.message+"",!0)+"</pre>";return n?Promise.resolve(s):s}if(n)return Promise.reject(r);throw r}}}const Kt=new Np;function ee(t,e){return Kt.parse(t,e)}ee.options=ee.setOptions=function(t){return Kt.setOptions(t),ee.defaults=Kt.defaults,Ec(ee.defaults),ee};ee.getDefaults=ui;ee.defaults=Xt;ee.use=function(...t){return Kt.use(...t),ee.defaults=Kt.defaults,Ec(ee.defaults),ee};ee.walkTokens=function(t,e){return Kt.walkTokens(t,e)};ee.parseInline=Kt.parseInline;ee.Parser=et;ee.parser=et.parse;ee.Renderer=Dr;ee.TextRenderer=bi;ee.Lexer=Qe;ee.lexer=Qe.lex;ee.Tokenizer=Or;ee.Hooks=jn;ee.parse=ee;ee.options;ee.setOptions;ee.use;ee.walkTokens;ee.parseInline;et.parse;Qe.lex;/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:jc,setPrototypeOf:ko,isFrozen:jp,getPrototypeOf:Fp,getOwnPropertyDescriptor:Up}=Object;let{freeze:Ue,seal:rt,create:Fc}=Object,{apply:$s,construct:Ns}=typeof Reflect<"u"&&Reflect;Ue||(Ue=function(e){return e});rt||(rt=function(e){return e});$s||($s=function(e,n,r){return e.apply(n,r)});Ns||(Ns=function(e,n){return new e(...n)});const cr=Be(Array.prototype.forEach),Bp=Be(Array.prototype.lastIndexOf),So=Be(Array.prototype.pop),Tn=Be(Array.prototype.push),zp=Be(Array.prototype.splice),vr=Be(String.prototype.toLowerCase),ls=Be(String.prototype.toString),To=Be(String.prototype.match),Rn=Be(String.prototype.replace),Hp=Be(String.prototype.indexOf),Gp=Be(String.prototype.trim),it=Be(Object.prototype.hasOwnProperty),De=Be(RegExp.prototype.test),En=Vp(TypeError);function Be(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return $s(t,e,r)}}function Vp(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ns(t,n)}}function B(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vr;ko&&ko(t,null);let r=e.length;for(;r--;){let s=e[r];if(typeof s=="string"){const i=n(s);i!==s&&(jp(e)||(e[r]=i),s=i)}t[s]=!0}return t}function Wp(t){for(let e=0;e<t.length;e++)it(t,e)||(t[e]=null);return t}function Ht(t){const e=Fc(null);for(const[n,r]of jc(t))it(t,n)&&(Array.isArray(r)?e[n]=Wp(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=Ht(r):e[n]=r);return e}function Pn(t,e){for(;t!==null;){const r=Up(t,e);if(r){if(r.get)return Be(r.get);if(typeof r.value=="function")return Be(r.value)}t=Fp(t)}function n(){return null}return n}const Ro=Ue(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),us=Ue(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),fs=Ue(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Yp=Ue(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ps=Ue(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Kp=Ue(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Eo=Ue(["#text"]),Po=Ue(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),hs=Ue(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ao=Ue(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),lr=Ue(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),qp=rt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Jp=rt(/<%[\w\W]*|[\w\W]*%>/gm),Zp=rt(/\$\{[\w\W]*/gm),Xp=rt(/^data-[\-\w.\u00B7-\uFFFF]+$/),Qp=rt(/^aria-[\-\w]+$/),Uc=rt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),eh=rt(/^(?:\w+script|data):/i),th=rt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Bc=rt(/^html$/i),nh=rt(/^[a-z][.\w]*(-[.\w]+)+$/i);var Io=Object.freeze({__proto__:null,ARIA_ATTR:Qp,ATTR_WHITESPACE:th,CUSTOM_ELEMENT:nh,DATA_ATTR:Xp,DOCTYPE_NAME:Bc,ERB_EXPR:Jp,IS_ALLOWED_URI:Uc,IS_SCRIPT_OR_DATA:eh,MUSTACHE_EXPR:qp,TMPLIT_EXPR:Zp});const An={element:1,text:3,progressingInstruction:7,comment:8,document:9},rh=function(){return typeof window>"u"?null:window},sh=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(r=n.getAttribute(s));const i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},Oo=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function zc(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:rh();const e=w=>zc(w);if(e.version="3.2.4",e.removed=[],!t||!t.document||t.document.nodeType!==An.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,s=r.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:a,Element:c,NodeFilter:u,NamedNodeMap:l=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:g,trustedTypes:m}=t,C=c.prototype,k=Pn(C,"cloneNode"),z=Pn(C,"remove"),H=Pn(C,"nextSibling"),Y=Pn(C,"childNodes"),V=Pn(C,"parentNode");if(typeof o=="function"){const w=n.createElement("template");w.content&&w.content.ownerDocument&&(n=w.content.ownerDocument)}let A,K="";const{implementation:me,createNodeIterator:de,createDocumentFragment:ge,getElementsByTagName:Rt}=n,{importNode:M}=r;let U=Oo();e.isSupported=typeof jc=="function"&&typeof V=="function"&&me&&me.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ve,ERB_EXPR:Et,TMPLIT_EXPR:jt,DATA_ATTR:Qn,ARIA_ATTR:Ce,IS_SCRIPT_OR_DATA:ie,ATTR_WHITESPACE:X,CUSTOM_ELEMENT:yt}=Io;let{IS_ALLOWED_URI:Ft}=Io,re=null;const We=B({},[...Ro,...us,...fs,...ps,...Eo]);let fe=null;const er=B({},[...Po,...hs,...Ao,...lr]);let ae=Object.seal(Fc(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),st=null,Pt=null,Qt=!0,en=!0,At=!1,Vr=!0,p=!1,h=!0,_=!1,x=!1,b=!1,y=!1,E=!1,T=!1,R=!0,v=!1;const $="user-content-";let P=!0,D=!1,L={},j=null;const Q=B({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let W=null;const Se=B({},["audio","video","img","source","image","track"]);let _e=null;const Ye=B({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ie="http://www.w3.org/1998/Math/MathML",at="http://www.w3.org/2000/svg",Ze="http://www.w3.org/1999/xhtml";let pe=Ze,ze=!1,tn=null;const Hc=B({},[Ie,at,Ze],ls);let tr=B({},["mi","mo","mn","ms","mtext"]),nr=B({},["annotation-xml"]);const Gc=B({},["title","style","font","a","script"]);let _n=null;const Vc=["application/xhtml+xml","text/html"],Wc="text/html";let be=null,nn=null;const Yc=n.createElement("form"),yi=function(d){return d instanceof RegExp||d instanceof Function},Wr=function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(nn&&nn===d)){if((!d||typeof d!="object")&&(d={}),d=Ht(d),_n=Vc.indexOf(d.PARSER_MEDIA_TYPE)===-1?Wc:d.PARSER_MEDIA_TYPE,be=_n==="application/xhtml+xml"?ls:vr,re=it(d,"ALLOWED_TAGS")?B({},d.ALLOWED_TAGS,be):We,fe=it(d,"ALLOWED_ATTR")?B({},d.ALLOWED_ATTR,be):er,tn=it(d,"ALLOWED_NAMESPACES")?B({},d.ALLOWED_NAMESPACES,ls):Hc,_e=it(d,"ADD_URI_SAFE_ATTR")?B(Ht(Ye),d.ADD_URI_SAFE_ATTR,be):Ye,W=it(d,"ADD_DATA_URI_TAGS")?B(Ht(Se),d.ADD_DATA_URI_TAGS,be):Se,j=it(d,"FORBID_CONTENTS")?B({},d.FORBID_CONTENTS,be):Q,st=it(d,"FORBID_TAGS")?B({},d.FORBID_TAGS,be):{},Pt=it(d,"FORBID_ATTR")?B({},d.FORBID_ATTR,be):{},L=it(d,"USE_PROFILES")?d.USE_PROFILES:!1,Qt=d.ALLOW_ARIA_ATTR!==!1,en=d.ALLOW_DATA_ATTR!==!1,At=d.ALLOW_UNKNOWN_PROTOCOLS||!1,Vr=d.ALLOW_SELF_CLOSE_IN_ATTR!==!1,p=d.SAFE_FOR_TEMPLATES||!1,h=d.SAFE_FOR_XML!==!1,_=d.WHOLE_DOCUMENT||!1,y=d.RETURN_DOM||!1,E=d.RETURN_DOM_FRAGMENT||!1,T=d.RETURN_TRUSTED_TYPE||!1,b=d.FORCE_BODY||!1,R=d.SANITIZE_DOM!==!1,v=d.SANITIZE_NAMED_PROPS||!1,P=d.KEEP_CONTENT!==!1,D=d.IN_PLACE||!1,Ft=d.ALLOWED_URI_REGEXP||Uc,pe=d.NAMESPACE||Ze,tr=d.MATHML_TEXT_INTEGRATION_POINTS||tr,nr=d.HTML_INTEGRATION_POINTS||nr,ae=d.CUSTOM_ELEMENT_HANDLING||{},d.CUSTOM_ELEMENT_HANDLING&&yi(d.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ae.tagNameCheck=d.CUSTOM_ELEMENT_HANDLING.tagNameCheck),d.CUSTOM_ELEMENT_HANDLING&&yi(d.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ae.attributeNameCheck=d.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),d.CUSTOM_ELEMENT_HANDLING&&typeof d.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ae.allowCustomizedBuiltInElements=d.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),p&&(en=!1),E&&(y=!0),L&&(re=B({},Eo),fe=[],L.html===!0&&(B(re,Ro),B(fe,Po)),L.svg===!0&&(B(re,us),B(fe,hs),B(fe,lr)),L.svgFilters===!0&&(B(re,fs),B(fe,hs),B(fe,lr)),L.mathMl===!0&&(B(re,ps),B(fe,Ao),B(fe,lr))),d.ADD_TAGS&&(re===We&&(re=Ht(re)),B(re,d.ADD_TAGS,be)),d.ADD_ATTR&&(fe===er&&(fe=Ht(fe)),B(fe,d.ADD_ATTR,be)),d.ADD_URI_SAFE_ATTR&&B(_e,d.ADD_URI_SAFE_ATTR,be),d.FORBID_CONTENTS&&(j===Q&&(j=Ht(j)),B(j,d.FORBID_CONTENTS,be)),P&&(re["#text"]=!0),_&&B(re,["html","head","body"]),re.table&&(B(re,["tbody"]),delete st.tbody),d.TRUSTED_TYPES_POLICY){if(typeof d.TRUSTED_TYPES_POLICY.createHTML!="function")throw En('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof d.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw En('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');A=d.TRUSTED_TYPES_POLICY,K=A.createHTML("")}else A===void 0&&(A=sh(m,s)),A!==null&&typeof K=="string"&&(K=A.createHTML(""));Ue&&Ue(d),nn=d}},xi=B({},[...us,...fs,...Yp]),vi=B({},[...ps,...Kp]),Kc=function(d){let S=V(d);(!S||!S.tagName)&&(S={namespaceURI:pe,tagName:"template"});const O=vr(d.tagName),oe=vr(S.tagName);return tn[d.namespaceURI]?d.namespaceURI===at?S.namespaceURI===Ze?O==="svg":S.namespaceURI===Ie?O==="svg"&&(oe==="annotation-xml"||tr[oe]):!!xi[O]:d.namespaceURI===Ie?S.namespaceURI===Ze?O==="math":S.namespaceURI===at?O==="math"&&nr[oe]:!!vi[O]:d.namespaceURI===Ze?S.namespaceURI===at&&!nr[oe]||S.namespaceURI===Ie&&!tr[oe]?!1:!vi[O]&&(Gc[O]||!xi[O]):!!(_n==="application/xhtml+xml"&&tn[d.namespaceURI]):!1},ct=function(d){Tn(e.removed,{element:d});try{V(d).removeChild(d)}catch{z(d)}},rr=function(d,S){try{Tn(e.removed,{attribute:S.getAttributeNode(d),from:S})}catch{Tn(e.removed,{attribute:null,from:S})}if(S.removeAttribute(d),d==="is")if(y||E)try{ct(S)}catch{}else try{S.setAttribute(d,"")}catch{}},Ci=function(d){let S=null,O=null;if(b)d="<remove></remove>"+d;else{const ke=To(d,/^[\r\n\t ]+/);O=ke&&ke[0]}_n==="application/xhtml+xml"&&pe===Ze&&(d='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+d+"</body></html>");const oe=A?A.createHTML(d):d;if(pe===Ze)try{S=new g().parseFromString(oe,_n)}catch{}if(!S||!S.documentElement){S=me.createDocument(pe,"template",null);try{S.documentElement.innerHTML=ze?K:oe}catch{}}const Te=S.body||S.documentElement;return d&&O&&Te.insertBefore(n.createTextNode(O),Te.childNodes[0]||null),pe===Ze?Rt.call(S,_?"html":"body")[0]:_?S.documentElement:Te},ki=function(d){return de.call(d.ownerDocument||d,d,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Yr=function(d){return d instanceof f&&(typeof d.nodeName!="string"||typeof d.textContent!="string"||typeof d.removeChild!="function"||!(d.attributes instanceof l)||typeof d.removeAttribute!="function"||typeof d.setAttribute!="function"||typeof d.namespaceURI!="string"||typeof d.insertBefore!="function"||typeof d.hasChildNodes!="function")},Si=function(d){return typeof a=="function"&&d instanceof a};function xt(w,d,S){cr(w,O=>{O.call(e,d,S,nn)})}const Ti=function(d){let S=null;if(xt(U.beforeSanitizeElements,d,null),Yr(d))return ct(d),!0;const O=be(d.nodeName);if(xt(U.uponSanitizeElement,d,{tagName:O,allowedTags:re}),d.hasChildNodes()&&!Si(d.firstElementChild)&&De(/<[/\w]/g,d.innerHTML)&&De(/<[/\w]/g,d.textContent)||d.nodeType===An.progressingInstruction||h&&d.nodeType===An.comment&&De(/<[/\w]/g,d.data))return ct(d),!0;if(!re[O]||st[O]){if(!st[O]&&Ei(O)&&(ae.tagNameCheck instanceof RegExp&&De(ae.tagNameCheck,O)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(O)))return!1;if(P&&!j[O]){const oe=V(d)||d.parentNode,Te=Y(d)||d.childNodes;if(Te&&oe){const ke=Te.length;for(let He=ke-1;He>=0;--He){const lt=k(Te[He],!0);lt.__removalCount=(d.__removalCount||0)+1,oe.insertBefore(lt,H(d))}}}return ct(d),!0}return d instanceof c&&!Kc(d)||(O==="noscript"||O==="noembed"||O==="noframes")&&De(/<\/no(script|embed|frames)/i,d.innerHTML)?(ct(d),!0):(p&&d.nodeType===An.text&&(S=d.textContent,cr([ve,Et,jt],oe=>{S=Rn(S,oe," ")}),d.textContent!==S&&(Tn(e.removed,{element:d.cloneNode()}),d.textContent=S)),xt(U.afterSanitizeElements,d,null),!1)},Ri=function(d,S,O){if(R&&(S==="id"||S==="name")&&(O in n||O in Yc))return!1;if(!(en&&!Pt[S]&&De(Qn,S))){if(!(Qt&&De(Ce,S))){if(!fe[S]||Pt[S]){if(!(Ei(d)&&(ae.tagNameCheck instanceof RegExp&&De(ae.tagNameCheck,d)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(d))&&(ae.attributeNameCheck instanceof RegExp&&De(ae.attributeNameCheck,S)||ae.attributeNameCheck instanceof Function&&ae.attributeNameCheck(S))||S==="is"&&ae.allowCustomizedBuiltInElements&&(ae.tagNameCheck instanceof RegExp&&De(ae.tagNameCheck,O)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(O))))return!1}else if(!_e[S]){if(!De(Ft,Rn(O,X,""))){if(!((S==="src"||S==="xlink:href"||S==="href")&&d!=="script"&&Hp(O,"data:")===0&&W[d])){if(!(At&&!De(ie,Rn(O,X,"")))){if(O)return!1}}}}}}return!0},Ei=function(d){return d!=="annotation-xml"&&To(d,yt)},Pi=function(d){xt(U.beforeSanitizeAttributes,d,null);const{attributes:S}=d;if(!S||Yr(d))return;const O={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:fe,forceKeepAttr:void 0};let oe=S.length;for(;oe--;){const Te=S[oe],{name:ke,namespaceURI:He,value:lt}=Te,bn=be(ke);let Oe=ke==="value"?lt:Gp(lt);if(O.attrName=bn,O.attrValue=Oe,O.keepAttr=!0,O.forceKeepAttr=void 0,xt(U.uponSanitizeAttribute,d,O),Oe=O.attrValue,v&&(bn==="id"||bn==="name")&&(rr(ke,d),Oe=$+Oe),h&&De(/((--!?|])>)|<\/(style|title)/i,Oe)){rr(ke,d);continue}if(O.forceKeepAttr||(rr(ke,d),!O.keepAttr))continue;if(!Vr&&De(/\/>/i,Oe)){rr(ke,d);continue}p&&cr([ve,Et,jt],Ii=>{Oe=Rn(Oe,Ii," ")});const Ai=be(d.nodeName);if(Ri(Ai,bn,Oe)){if(A&&typeof m=="object"&&typeof m.getAttributeType=="function"&&!He)switch(m.getAttributeType(Ai,bn)){case"TrustedHTML":{Oe=A.createHTML(Oe);break}case"TrustedScriptURL":{Oe=A.createScriptURL(Oe);break}}try{He?d.setAttributeNS(He,ke,Oe):d.setAttribute(ke,Oe),Yr(d)?ct(d):So(e.removed)}catch{}}}xt(U.afterSanitizeAttributes,d,null)},qc=function w(d){let S=null;const O=ki(d);for(xt(U.beforeSanitizeShadowDOM,d,null);S=O.nextNode();)xt(U.uponSanitizeShadowNode,S,null),Ti(S),Pi(S),S.content instanceof i&&w(S.content);xt(U.afterSanitizeShadowDOM,d,null)};return e.sanitize=function(w){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=null,O=null,oe=null,Te=null;if(ze=!w,ze&&(w="<!-->"),typeof w!="string"&&!Si(w))if(typeof w.toString=="function"){if(w=w.toString(),typeof w!="string")throw En("dirty is not a string, aborting")}else throw En("toString is not a function");if(!e.isSupported)return w;if(x||Wr(d),e.removed=[],typeof w=="string"&&(D=!1),D){if(w.nodeName){const lt=be(w.nodeName);if(!re[lt]||st[lt])throw En("root node is forbidden and cannot be sanitized in-place")}}else if(w instanceof a)S=Ci("<!---->"),O=S.ownerDocument.importNode(w,!0),O.nodeType===An.element&&O.nodeName==="BODY"||O.nodeName==="HTML"?S=O:S.appendChild(O);else{if(!y&&!p&&!_&&w.indexOf("<")===-1)return A&&T?A.createHTML(w):w;if(S=Ci(w),!S)return y?null:T?K:""}S&&b&&ct(S.firstChild);const ke=ki(D?w:S);for(;oe=ke.nextNode();)Ti(oe),Pi(oe),oe.content instanceof i&&qc(oe.content);if(D)return w;if(y){if(E)for(Te=ge.call(S.ownerDocument);S.firstChild;)Te.appendChild(S.firstChild);else Te=S;return(fe.shadowroot||fe.shadowrootmode)&&(Te=M.call(r,Te,!0)),Te}let He=_?S.outerHTML:S.innerHTML;return _&&re["!doctype"]&&S.ownerDocument&&S.ownerDocument.doctype&&S.ownerDocument.doctype.name&&De(Bc,S.ownerDocument.doctype.name)&&(He="<!DOCTYPE "+S.ownerDocument.doctype.name+`>
`+He),p&&cr([ve,Et,jt],lt=>{He=Rn(He,lt," ")}),A&&T?A.createHTML(He):He},e.setConfig=function(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Wr(w),x=!0},e.clearConfig=function(){nn=null,x=!1},e.isValidAttribute=function(w,d,S){nn||Wr({});const O=be(w),oe=be(d);return Ri(O,oe,S)},e.addHook=function(w,d){typeof d=="function"&&Tn(U[w],d)},e.removeHook=function(w,d){if(d!==void 0){const S=Bp(U[w],d);return S===-1?void 0:zp(U[w],S,1)[0]}return So(U[w])},e.removeHooks=function(w){U[w]=[]},e.removeAllHooks=function(){U=Oo()},e}var ih=zc();const oh={class:"flex flex-col h-full border border-gray-300 dark:border-gray-700 rounded overflow-auto transition-all duration-300 hover:shadow-md dark:hover:shadow-lg"},ah={class:"grid grid-cols-2 gap-4 bg-gray-100 dark:bg-gray-800 p-3 border-b border-gray-300 dark:border-gray-700 text-sm"},ch={class:"flex flex-col"},lh={class:"text-nowrap overflow-hidden text-ellipsis"},uh={key:0,class:"flex flex-col"},fh={class:"text-nowrap overflow-hidden text-ellipsis"},ph={class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},hh=["innerHTML"],dh={key:0,class:"p-3 bg-teal-50 dark:bg-teal-900 border-t border-teal-200 dark:border-teal-700"},gh={class:"flex"},mh={__name:"Chat",props:{roomId:{type:String,required:!0}},setup(t){const e=t,n=ye(""),r=ye([]),s=ye(null),i=ye(""),o=ye("");Jn(()=>{const m=localStorage.getItem("ytogether_username");m&&(i.value=m),ce.on("data",c),ce.on("connect",()=>{r.value.length>0&&ce.send({type:"chat_history",messages:r.value}),console.log("Chat initialized"),ce.getId()===e.roomId&&(console.log("You are the host of this room"),l("System","Welcome to your room! Share the URL to invite others."))})});function a(){o.value.trim()&&(i.value=o.value.trim(),localStorage.setItem("ytogether_username",i.value),o.value="")}function c(m){m.type==="chat"?l(m.sender,m.content):m.type==="chat_history"&&r.value.length===0&&m.messages.length>0&&(r.value=m.messages,g())}function u(){if(n.value.trim()&&i.value){const m=n.value;l(i.value,m),ce.send({type:"chat",sender:i.value,content:m}),n.value=""}}function l(m,C){const k=m===ce.getId()&&i.value?i.value:m;r.value.push({sender:k,content:C,timestamp:new Date}),g()}function f(m){return ih.sanitize(ee.parse(m))}function g(){sa(()=>{s.value&&(s.value.scrollTop=s.value.scrollHeight)})}return(m,C)=>(Le(),Ve("div",oh,[G("div",ah,[G("div",ch,[C[2]||(C[2]=G("span",{class:"font-semibold"},"Room ID:",-1)),G("span",lh,ln(t.roomId),1)]),i.value?(Le(),Ve("div",uh,[C[3]||(C[3]=G("span",{class:"font-semibold"},"Your name:",-1)),G("span",fh,ln(i.value),1)])):hn("",!0)]),G("div",{ref_key:"chatContainer",ref:s,class:"flex-1 p-4 overflow-y-auto"},[(Le(!0),Ve(ht,null,su(r.value,(k,z)=>(Le(),Ve("div",{key:z,class:"mb-3"},[G("div",ph,ln(k.sender),1),G("div",{class:"bg-gray-50 dark:bg-gray-700 p-2 rounded",innerHTML:f(k.content)},null,8,hh)]))),128))],512),i.value?hn("",!0):(Le(),Ve("div",dh,[C[4]||(C[4]=G("div",{class:"text-sm mb-2"},"Enter your name to join the chat:",-1)),G("div",gh,[xs(G("input",{"onUpdate:modelValue":C[0]||(C[0]=k=>o.value=k),placeholder:"Your name",class:"flex-1 p-2 border border-gray-300 dark:border-gray-700 rounded-l transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 dark:bg-gray-800 dark:text-white"},null,512),[[Es,o.value]]),G("button",{onClick:a,class:"px-4 py-2 bg-teal-500 hover:bg-teal-600 text-white rounded-r focus:outline-none transition-all duration-300 dark:bg-teal-600 dark:hover:bg-teal-700"}," Join ")])])),i.value?xs((Le(),Ve("input",{key:1,"onUpdate:modelValue":C[1]||(C[1]=k=>n.value=k),onKeyup:Ua(u,["enter"]),placeholder:"Type a message...",class:"p-2 border-t border-gray-300 dark:border-gray-700 w-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 hover:shadow-inner dark:bg-gray-800 dark:text-white"},null,544)),[[Es,n.value]]):hn("",!0)]))}},_h={class:"flex flex-col flex-1 max-w-6xl mx-auto"},bh={key:0,class:"mx-3 my-4 p-3 bg-teal-50 dark:bg-teal-900 border border-teal-200 dark:border-teal-700 rounded-md text-teal-700 dark:text-teal-300 text-sm"},yh={class:"flex flex-1 flex-col md:flex-row p-4 gap-4 overflow-auto"},xh={class:"flex-1"},vh={class:"w-full md:w-1/3"},Ch={__name:"Room",setup(t){const e=ye(""),n=ye(!1);_a("roomId",e);async function r(){const o=await ce.createRoom();return e.value=o,s(o),n.value=!0,i(),console.log("Created new room with ID:",o),o}Jn(async()=>{const o=new URLSearchParams(window.location.search).get("roomId");try{if(o){e.value=o,console.log("Joining room:",o);try{await ce.joinRoom(o),console.log("Joined room:",o)}catch(a){console.error("Failed to join room:",a),console.log("Creating new room instead"),await r()}}else await r()}catch(a){console.error("Failed to initialize room:",a)}});function s(o){const a=`${window.location.pathname}?roomId=${o}`;window.history.pushState({path:a},"",a)}function i(){setTimeout(()=>{try{navigator.clipboard.writeText(window.location.href).then(()=>{console.log("URL copied to clipboard!")})}catch(o){console.error("Failed to copy URL: ",o)}},100)}return(o,a)=>(Le(),Ve("div",_h,[n.value?(Le(),Ve("div",bh,[a[0]||(a[0]=G("p",null," New room created with secure UUID! URL copied to clipboard for sharing. ",-1)),G("button",{onClick:i,class:"mt-1 text-xs px-2 py-1 bg-teal-100 dark:bg-teal-800 hover:bg-teal-200 dark:hover:bg-teal-700 rounded transition-colors"}," Copy URL again ")])):hn("",!0),G("div",yh,[G("div",xh,[nt(tp,{roomId:e.value},null,8,["roomId"])]),G("div",vh,[nt(mh,{roomId:e.value},null,8,["roomId"])])])]))}},kh={class:"h-screen bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-200 font-mono flex flex-col overflow-auto"},Sh={class:"flex-1 flex"},Th={__name:"App",setup(t){return Jn(()=>{document.title="YTogether - Watch YouTube Videos Together"}),(e,n)=>(Le(),Ve("div",kh,[n[0]||(n[0]=G("header",{class:"bg-teal-600 dark:bg-teal-800 text-white p-2 shadow-md"},[G("div",{class:"px-4 mx-auto flex items-center justify-between"},[G("h1",{class:"text-lg p-0 font-bold !my-0"},"YTogether"),G("p",{class:"text-xs text-teal-100"},"Watch YouTube videos")])],-1)),G("main",Sh,[nt(Ch)])]))}};bf(Th).mount("#app");
